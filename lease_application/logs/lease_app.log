/Users/rohitjangid/Library/Python/3.9/lib/python/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.6) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
  warnings.warn(message, FutureWarning)
/Users/rohitjangid/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
2025-11-01 12:59:45 - root - INFO - 🚀 Initializing Lease Management Application...
2025-11-01 12:59:45 - root - INFO - ✅ Database initialized
2025-11-01 12:59:45 - root - INFO - ✅ Blueprints registered
2025-11-01 12:59:45 - root - INFO - ✅ Application created successfully
2025-11-01 12:59:45 - root - INFO - 📂 Template folder: frontend/templates
2025-11-01 12:59:45 - root - INFO - 📂 Static folder: /Users/rohitjangid/Downloads/Lease/lease_application/frontend/static
2025-11-01 12:59:45 - __main__ - INFO - ══════════════════════════════════════════════════════════════
2025-11-01 12:59:45 - __main__ - INFO -    📊 Lease Management System - Starting Server
2025-11-01 12:59:45 - __main__ - INFO - ══════════════════════════════════════════════════════════════
2025-11-01 12:59:45 - __main__ - INFO - 📍 API Endpoint: http://localhost:5001/api/
2025-11-01 12:59:45 - __main__ - INFO -    - /api/register - User registration
2025-11-01 12:59:45 - __main__ - INFO -    - /api/login - User login
2025-11-01 12:59:45 - __main__ - INFO -    - /api/leases - Manage leases
2025-11-01 12:59:45 - __main__ - INFO -    - /api/calculate_lease - Calculate lease
2025-11-01 12:59:45 - __main__ - INFO - 📝 Logs: /Users/rohitjangid/Downloads/Lease/lease_application/logs/lease_app.log
2025-11-01 12:59:45 - __main__ - INFO - ══════════════════════════════════════════════════════════════
✅ Database initialized
An error occurred: module 'importlib.metadata' has no attribute 'packages_distributions'
✅ Database initialized
 * Serving Flask app 'app'
 * Debug mode: on
2025-11-01 12:59:45 - werkzeug - INFO - [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://localhost:5001
2025-11-01 12:59:45 - werkzeug - INFO - [33mPress CTRL+C to quit[0m
2025-11-01 12:59:45 - werkzeug - INFO -  * Restarting with stat
/Users/rohitjangid/Library/Python/3.9/lib/python/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.6) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
  warnings.warn(message, FutureWarning)
/Users/rohitjangid/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
2025-11-01 12:59:45 - root - INFO - 🚀 Initializing Lease Management Application...
2025-11-01 12:59:45 - root - INFO - ✅ Database initialized
2025-11-01 12:59:45 - root - INFO - ✅ Blueprints registered
2025-11-01 12:59:45 - root - INFO - ✅ Application created successfully
2025-11-01 12:59:45 - root - INFO - 📂 Template folder: frontend/templates
2025-11-01 12:59:45 - root - INFO - 📂 Static folder: /Users/rohitjangid/Downloads/Lease/lease_application/frontend/static
2025-11-01 12:59:45 - __main__ - INFO - ══════════════════════════════════════════════════════════════
2025-11-01 12:59:45 - __main__ - INFO -    📊 Lease Management System - Starting Server
2025-11-01 12:59:45 - __main__ - INFO - ══════════════════════════════════════════════════════════════
2025-11-01 12:59:45 - __main__ - INFO - 📍 API Endpoint: http://localhost:5001/api/
2025-11-01 12:59:45 - __main__ - INFO -    - /api/register - User registration
2025-11-01 12:59:45 - __main__ - INFO -    - /api/login - User login
2025-11-01 12:59:45 - __main__ - INFO -    - /api/leases - Manage leases
2025-11-01 12:59:45 - __main__ - INFO -    - /api/calculate_lease - Calculate lease
2025-11-01 12:59:45 - __main__ - INFO - 📝 Logs: /Users/rohitjangid/Downloads/Lease/lease_application/logs/lease_app.log
2025-11-01 12:59:45 - __main__ - INFO - ══════════════════════════════════════════════════════════════
2025-11-01 12:59:45 - werkzeug - WARNING -  * Debugger is active!
2025-11-01 12:59:45 - werkzeug - INFO -  * Debugger PIN: 837-703-174
2025-11-01 12:59:45 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 12:59:45] "GET /login.html HTTP/1.1" 200 -
2025-11-01 12:59:47 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 12:59:47] "GET /login.html HTTP/1.1" 200 -
2025-11-01 12:59:47 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 12:59:47] "[36mGET /static/css/common.css HTTP/1.1[0m" 304 -
2025-11-01 12:59:47 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 12:59:47] "[36mGET /static/css/login.css HTTP/1.1[0m" 304 -
2025-11-01 12:59:47 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 12:59:47] "[36mGET /static/js/api.js HTTP/1.1[0m" 304 -
2025-11-01 12:59:47 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 12:59:47] "[36mGET /static/js/login.js HTTP/1.1[0m" 304 -
2025-11-01 12:59:55 - auth - INFO - 🔐 POST /api/login - Login request
2025-11-01 12:59:55 - auth - INFO - ✅ Login successful: user_id=3, username=maker
2025-11-01 12:59:55 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 12:59:55] "POST /api/login HTTP/1.1" 200 -
2025-11-01 12:59:56 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 12:59:56] "GET /dashboard.html HTTP/1.1" 200 -
2025-11-01 12:59:56 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 12:59:56] "[36mGET /static/css/common.css HTTP/1.1[0m" 304 -
2025-11-01 12:59:56 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 12:59:56] "[36mGET /static/css/dashboard.css HTTP/1.1[0m" 304 -
2025-11-01 12:59:56 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 12:59:56] "GET /api/user HTTP/1.1" 200 -
2025-11-01 12:59:56 - api - INFO - 📋 GET /api/leases - User 3  fetching leases
2025-11-01 12:59:56 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 12:59:56] "GET /api/admin/check HTTP/1.1" 200 -
2025-11-01 12:59:56 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 12:59:56] "GET /api/user HTTP/1.1" 200 -
2025-11-01 12:59:56 - api - INFO - Found 12 leases for user 3
2025-11-01 12:59:56 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 12:59:56] "GET /api/leases HTTP/1.1" 200 -
2025-11-01 12:59:56 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 12:59:56] "[36mGET /static/css/dashboard.css HTTP/1.1[0m" 304 -
2025-11-01 12:59:56 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 12:59:56] "[36mGET /static/css/common.css HTTP/1.1[0m" 304 -
2025-11-01 12:59:56 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 12:59:56] "[33mGET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1[0m" 404 -
2025-11-01 12:59:58 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 12:59:58] "GET /complete_lease_form.html HTTP/1.1" 200 -
2025-11-01 12:59:58 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 12:59:58] "[33mGET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1[0m" 404 -
2025-11-01 12:59:58 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 12:59:58] "[36mGET /static/css/common.css HTTP/1.1[0m" 304 -
2025-11-01 12:59:58 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 12:59:58] "GET /api/user HTTP/1.1" 200 -
2025-11-01 13:00:04 - pdf_upload_backend - INFO - 📄 Extracting text from PDF: LAND LEASE AGREEMENT.pdf
2025-11-01 13:00:04 - pdfminer.pdffont - WARNING - Could get FontBBox from font descriptor because None cannot be parsed as 4 floats
2025-11-01 13:00:05 - pdf_upload_backend - INFO - 📄 Text extraction result: status_msg=Text extracted successfully from text-based PDF, text_length=105545
2025-11-01 13:00:05 - pdf_upload_backend - INFO - ✅ Extracted 105545 characters from PDF
2025-11-01 13:00:05 - pdf_upload_backend - INFO - 🤖 Extracting lease information using AI...
2025-11-01 13:00:05 - pdf_upload_backend - INFO -    - Using text-based extraction (reliable method)
2025-11-01 13:00:27 - pdf_upload_backend - INFO - ✅ Text extraction successful: 30 fields extracted
2025-11-01 13:00:27 - pdf_upload_backend - INFO -    - Attempting PDF extraction for bounding boxes (optional enhancement)
2025-11-01 13:01:15 - pdf_upload_backend - INFO - 🤖 AI extraction completed
2025-11-01 13:01:15 - pdf_upload_backend - INFO - ✅ AI extraction successful: 30 fields extracted
2025-11-01 13:01:15 - pdf_upload_backend - INFO - 📋 PDF Upload Debug:
2025-11-01 13:01:15 - pdf_upload_backend - INFO -    - lease_id from form: None
2025-11-01 13:01:15 - pdf_upload_backend - INFO -    - user_id from session: 3
2025-11-01 13:01:15 - pdf_upload_backend - INFO -    - filename: LAND LEASE AGREEMENT.pdf
2025-11-01 13:01:15 - pdf_upload_backend - INFO -    - No lease_id yet, saving PDF temporarily...
2025-11-01 13:01:15 - pdf_upload_backend - INFO - 📄 _save_pending_pdf called:
2025-11-01 13:01:15 - pdf_upload_backend - INFO -    - user_id: 3
2025-11-01 13:01:15 - pdf_upload_backend - INFO -    - temp_path: /var/folders/6g/mcsdtgy50zn6jdm3p0rdhsd40000gn/T/upload_LAND LEASE AGREEMENT.pdf
2025-11-01 13:01:15 - pdf_upload_backend - INFO -    - temp_path exists: True
2025-11-01 13:01:15 - pdf_upload_backend - INFO -    - original_filename: LAND_LEASE_AGREEMENT.pdf
2025-11-01 13:01:15 - pdf_upload_backend - INFO -    - pending_filename: d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf
2025-11-01 13:01:15 - pdf_upload_backend - INFO -    - pending_path: pending_pdfs/d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf
2025-11-01 13:01:15 - pdf_upload_backend - INFO -    - Copying file from /var/folders/6g/mcsdtgy50zn6jdm3p0rdhsd40000gn/T/upload_LAND LEASE AGREEMENT.pdf to pending_pdfs/d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf...
2025-11-01 13:01:15 - pdf_upload_backend - INFO -    - ✅ File copied successfully
2025-11-01 13:01:15 - pdf_upload_backend - INFO - ✅ Pending PDF saved successfully:
2025-11-01 13:01:15 - pdf_upload_backend - INFO -    - pending_pdf_id: d86e8e1f-c6fc-47eb-afd7-094c097cc2bc
2025-11-01 13:01:15 - pdf_upload_backend - INFO -    - original_filename: LAND_LEASE_AGREEMENT.pdf
2025-11-01 13:01:15 - pdf_upload_backend - INFO -    - pending_path: pending_pdfs/d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf
2025-11-01 13:01:15 - pdf_upload_backend - INFO - ✅ PDF saved temporarily with pending_id: d86e8e1f-c6fc-47eb-afd7-094c097cc2bc
2025-11-01 13:01:15 - pdf_upload_backend - INFO - ✅ PDF extraction complete - PDF saved temporarily with pending_id: d86e8e1f-c6fc-47eb-afd7-094c097cc2bc
2025-11-01 13:01:15 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 13:01:15] "POST /api/extract_lease_pdf HTTP/1.1" 200 -
2025-11-01 13:01:32 - api - INFO - ➕ POST /api/leases - User 3 creating lease
2025-11-01 13:01:32 - api - INFO - Operation: CREATE
2025-11-01 13:01:32 - api - INFO - ✅ Lease saved: lease_id=46
2025-11-01 13:01:32 - api - INFO - 🔗 Associating pending PDFs for lease_id=46, user_id=3
2025-11-01 13:01:32 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 13:01:32] "[35m[1mPOST /api/leases HTTP/1.1[0m" 201 -
2025-11-01 13:01:32 - database - INFO - 🔍 get_lease_documents called:
2025-11-01 13:01:32 - database - INFO -    - lease_id: 46
2025-11-01 13:01:32 - database - INFO -    - user_id: 3
2025-11-01 13:01:32 - database - INFO -    - check_ownership: False
2025-11-01 13:01:32 - database - INFO -    - Query: SELECT * FROM lease_documents WHERE lease_id = 46 (no user check)
2025-11-01 13:01:32 - database - INFO -    - Raw rows fetched: 0
2025-11-01 13:01:32 - database - INFO -    - Row types: []
2025-11-01 13:01:32 - database - INFO -    - Found 0 documents after conversion
2025-11-01 13:01:32 - api - INFO -    - Found 23 pending PDF(s)
2025-11-01 13:01:32 - api - INFO -    - Processing pending PDF: d86e8e1f-c6fc-47eb-afd7-094c097cc2bc
2025-11-01 13:01:32 - api - INFO -    - Moving file from pending_pdfs/d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf to uploaded_documents/d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf...
2025-11-01 13:01:32 - api - INFO -    - ✅ File moved successfully
2025-11-01 13:01:32 - api - INFO -    - ✅ Document saved with doc_id: 16
2025-11-01 13:01:32 - api - INFO -    - Found extraction data, saving metadata...
2025-11-01 13:01:32 - pdfminer.pdffont - WARNING - Could get FontBBox from font descriptor because None cannot be parsed as 4 floats
2025-11-01 13:01:33 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 13:01:33] "[33mGET /api/leases/46/documents HTTP/1.1[0m" 404 -
2025-11-01 13:01:34 - pdfminer.pdffont - WARNING - Could get FontBBox from font descriptor because None cannot be parsed as 4 floats
2025-11-01 13:01:36 - pdfminer.pdffont - WARNING - Could get FontBBox from font descriptor because None cannot be parsed as 4 floats
2025-11-01 13:01:37 - pdfminer.pdffont - WARNING - Could get FontBBox from font descriptor because None cannot be parsed as 4 floats
2025-11-01 13:01:39 - pdf_upload_backend - INFO - ✅ Found coordinates via text search for tenure: page=1, bbox=[320.8652206756153, 798.3456698155956, 374.8652184256153, 810.3456693155956]
2025-11-01 13:01:39 - pdfminer.pdffont - WARNING - Could get FontBBox from font descriptor because None cannot be parsed as 4 floats
2025-11-01 13:01:41 - pdf_upload_backend - INFO - ✅ Found coordinates via text search for frequency_months: page=12, bbox=[180.5273399780272, 528.3456810655937, 228.5273379780272, 540.3456805655937]
2025-11-01 13:01:41 - approval_backend - INFO - ✅ Lease 46 submitted for approval by user 3
2025-11-01 13:01:41 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 13:01:41] "POST /api/approvals/submit HTTP/1.1" 200 -
2025-11-01 13:01:41 - pdfminer.pdffont - WARNING - Could get FontBBox from font descriptor because None cannot be parsed as 4 floats
2025-11-01 13:01:43 - pdfminer.pdffont - WARNING - Could get FontBBox from font descriptor because None cannot be parsed as 4 floats
2025-11-01 13:01:45 - pdfminer.pdffont - WARNING - Could get FontBBox from font descriptor because None cannot be parsed as 4 floats
2025-11-01 13:01:47 - pdfminer.pdffont - WARNING - Could get FontBBox from font descriptor because None cannot be parsed as 4 floats
2025-11-01 13:01:47 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 13:01:47] "GET /dashboard.html HTTP/1.1" 200 -
2025-11-01 13:01:47 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 13:01:47] "[33mGET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1[0m" 404 -
2025-11-01 13:01:47 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 13:01:47] "[36mGET /static/css/common.css HTTP/1.1[0m" 304 -
2025-11-01 13:01:47 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 13:01:47] "[36mGET /static/css/dashboard.css HTTP/1.1[0m" 304 -
2025-11-01 13:01:47 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 13:01:47] "GET /api/user HTTP/1.1" 200 -
2025-11-01 13:01:47 - api - INFO - 📋 GET /api/leases - User 3  fetching leases
2025-11-01 13:01:47 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 13:01:47] "GET /api/admin/check HTTP/1.1" 200 -
2025-11-01 13:01:47 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 13:01:47] "GET /api/user HTTP/1.1" 200 -
2025-11-01 13:01:47 - api - INFO - Found 13 leases for user 3
2025-11-01 13:01:47 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 13:01:47] "GET /api/leases HTTP/1.1" 200 -
2025-11-01 13:01:48 - auth - INFO - 🚪 POST /api/logout - User 3 logging out
2025-11-01 13:01:48 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 13:01:48] "POST /api/logout HTTP/1.1" 200 -
2025-11-01 13:01:48 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 13:01:48] "GET /login.html HTTP/1.1" 200 -
2025-11-01 13:01:48 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 13:01:48] "[33mGET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1[0m" 404 -
2025-11-01 13:01:48 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 13:01:48] "[36mGET /static/css/common.css HTTP/1.1[0m" 304 -
2025-11-01 13:01:48 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 13:01:48] "[36mGET /static/css/login.css HTTP/1.1[0m" 304 -
2025-11-01 13:01:48 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 13:01:48] "[36mGET /static/js/api.js HTTP/1.1[0m" 304 -
2025-11-01 13:01:48 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 13:01:48] "[36mGET /static/js/login.js HTTP/1.1[0m" 304 -
2025-11-01 13:01:49 - pdfminer.pdffont - WARNING - Could get FontBBox from font descriptor because None cannot be parsed as 4 floats
2025-11-01 13:01:51 - pdfminer.pdffont - WARNING - Could get FontBBox from font descriptor because None cannot be parsed as 4 floats
2025-11-01 13:01:52 - pdfminer.pdffont - WARNING - Could get FontBBox from font descriptor because None cannot be parsed as 4 floats
2025-11-01 13:01:52 - auth - INFO - 🔐 POST /api/login - Login request
2025-11-01 13:01:53 - auth - INFO - ✅ Login successful: user_id=2, username=Rohit
2025-11-01 13:01:53 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 13:01:53] "POST /api/login HTTP/1.1" 200 -
2025-11-01 13:01:54 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 13:01:54] "GET /dashboard.html HTTP/1.1" 200 -
2025-11-01 13:01:54 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 13:01:54] "[33mGET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1[0m" 404 -
2025-11-01 13:01:54 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 13:01:54] "[36mGET /static/css/dashboard.css HTTP/1.1[0m" 304 -
2025-11-01 13:01:54 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 13:01:54] "[36mGET /static/css/common.css HTTP/1.1[0m" 304 -
2025-11-01 13:01:54 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 13:01:54] "GET /api/user HTTP/1.1" 200 -
2025-11-01 13:01:54 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 13:01:54] "GET /api/admin/check HTTP/1.1" 200 -
2025-11-01 13:01:54 - api - INFO - 📋 GET /api/leases - User 2 (Admin) fetching leases
2025-11-01 13:01:54 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 13:01:54] "GET /api/user HTTP/1.1" 200 -
2025-11-01 13:01:54 - api - INFO - Found 16 leases for user 2
2025-11-01 13:01:54 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 13:01:54] "GET /api/leases HTTP/1.1" 200 -
2025-11-01 13:01:54 - pdfminer.pdffont - WARNING - Could get FontBBox from font descriptor because None cannot be parsed as 4 floats
2025-11-01 13:01:55 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 13:01:55] "GET /approvals.html HTTP/1.1" 200 -
2025-11-01 13:01:55 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 13:01:55] "[33mGET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1[0m" 404 -
2025-11-01 13:01:55 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 13:01:55] "[36mGET /static/css/common.css HTTP/1.1[0m" 304 -
2025-11-01 13:01:55 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 13:01:55] "[36mGET /static/js/api.js HTTP/1.1[0m" 304 -
2025-11-01 13:01:56 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 13:01:56] "GET /api/user HTTP/1.1" 200 -
2025-11-01 13:01:56 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 13:01:56] "GET /api/approvals/pending HTTP/1.1" 200 -
2025-11-01 13:01:56 - pdfminer.pdffont - WARNING - Could get FontBBox from font descriptor because None cannot be parsed as 4 floats
2025-11-01 13:01:58 - pdfminer.pdffont - WARNING - Could get FontBBox from font descriptor because None cannot be parsed as 4 floats
2025-11-01 13:01:59 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 13:01:59] "GET /review.html?lease_id=46 HTTP/1.1" 200 -
2025-11-01 13:01:59 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 13:01:59] "[36mGET /static/js/api.js HTTP/1.1[0m" 304 -
2025-11-01 13:01:59 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 13:01:59] "[36mGET /static/css/common.css HTTP/1.1[0m" 304 -
2025-11-01 13:01:59 - review_backend - INFO - 📋 Review Metadata Debug for lease_id=46:
2025-11-01 13:01:59 - review_backend - INFO -    - user_id: 2
2025-11-01 13:01:59 - review_backend - INFO -    - user: {'user_id': 2, 'username': 'Rohit', 'email': 'rjrohitjangid0401@gmail.com', 'role': 'admin', 'is_active': 1, 'created_at': '2025-10-29 05:15:06'}
2025-11-01 13:01:59 - review_backend - INFO -    - is_admin: True
2025-11-01 13:01:59 - review_backend - INFO -    - is_reviewer: False
2025-11-01 13:01:59 - review_backend - INFO -    - Admin/Reviewer: Fetching documents without ownership check...
2025-11-01 13:01:59 - database - INFO - 🔍 get_lease_documents called:
2025-11-01 13:01:59 - database - INFO -    - lease_id: 46
2025-11-01 13:01:59 - database - INFO -    - user_id: 2
2025-11-01 13:01:59 - database - INFO -    - check_ownership: False
2025-11-01 13:01:59 - database - INFO -    - Query: SELECT * FROM lease_documents WHERE lease_id = 46 (no user check)
2025-11-01 13:01:59 - database - INFO -    - Raw rows fetched: 1
2025-11-01 13:01:59 - database - INFO -    - Row types: ['Row']
2025-11-01 13:01:59 - database - INFO -    - Found 1 documents after conversion
2025-11-01 13:01:59 - database - INFO -    - First document: doc_id=16, filename=d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf, file_type=application/pdf
2025-11-01 13:01:59 - review_backend - INFO -    - Total documents found: 1
2025-11-01 13:01:59 - review_backend - INFO -    - Document 1: doc_id=16, filename=d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf, file_type=application/pdf, lease_id=46, user_id=3
2025-11-01 13:01:59 - review_backend - INFO -    - ✅ Included PDF doc: doc_id=16, filename=d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf, file_type=application/pdf, file_path=uploaded_documents/d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf
2025-11-01 13:01:59 - review_backend - INFO -    - PDF documents found: 1 (from 1 total documents)
2025-11-01 13:01:59 - review_backend - INFO -    - App root: /Users/rohitjangid/Downloads/Lease/lease_application
2025-11-01 13:01:59 - review_backend - INFO -    - Uploaded docs dir: /Users/rohitjangid/Downloads/Lease/lease_application/uploaded_documents
2025-11-01 13:02:00 - review_backend - INFO -    - Uploaded docs dir exists: True
2025-11-01 13:02:00 - review_backend - INFO -    - Current working directory: /Users/rohitjangid/Downloads/Lease/lease_application
2025-11-01 13:02:00 - review_backend - INFO -    - PDF 1: doc_id=16, filename=d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf, file_path=uploaded_documents/d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf
2025-11-01 13:02:00 - review_backend - INFO -    - PDF file exists: True, existing_path: uploaded_documents/d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf
2025-11-01 13:02:00 - review_backend - INFO -    - Checked paths: ['uploaded_documents/d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf', 'lease_application/uploaded_documents/d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf', '/Users/rohitjangid/Downloads/Lease/lease_application/uploaded_documents/d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf', '/Users/rohitjangid/Downloads/Lease/lease_application/lease_application/uploaded_documents/d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf']
2025-11-01 13:02:00 - review_backend - INFO -    - ✅ Updated file_path to: uploaded_documents/d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf
2025-11-01 13:02:00 - review_backend - INFO -    - Checking for highlighted PDF at: ['uploaded_documents/highlighted_lease_46.pdf', 'lease_application/uploaded_documents/highlighted_lease_46.pdf', '/Users/rohitjangid/Downloads/Lease/lease_application/uploaded_documents/highlighted_lease_46.pdf']
2025-11-01 13:02:00 - review_backend - INFO -    - Highlighted PDF not found (checked: ['uploaded_documents/highlighted_lease_46.pdf', 'lease_application/uploaded_documents/highlighted_lease_46.pdf', '/Users/rohitjangid/Downloads/Lease/lease_application/uploaded_documents/highlighted_lease_46.pdf'])
2025-11-01 13:02:00 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 13:02:00] "GET /api/review/46/metadata HTTP/1.1" 200 -
2025-11-01 13:02:00 - review_backend - INFO - 📄 Found document for admin/reviewer: doc_id=16, file_path=uploaded_documents/d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf
2025-11-01 13:02:00 - review_backend - INFO - 📄 Resolving PDF path: doc_id=16, filename=d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf, file_path=uploaded_documents/d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf
2025-11-01 13:02:00 - review_backend - INFO -    App root: /Users/rohitjangid/Downloads/Lease/lease_application
2025-11-01 13:02:00 - review_backend - INFO -    Uploaded docs dir: /Users/rohitjangid/Downloads/Lease/lease_application/uploaded_documents
2025-11-01 13:02:00 - review_backend - INFO -    Uploaded docs dir exists: True
2025-11-01 13:02:00 - review_backend - INFO -    Checking 4 possible paths: ['uploaded_documents/d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf', '/Users/rohitjangid/Downloads/Lease/lease_application/uploaded_documents/d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf', 'lease_application/uploaded_documents/d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf', '/Users/rohitjangid/Downloads/Lease/lease_application/lease_application/uploaded_documents/d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf']...
2025-11-01 13:02:00 - review_backend - INFO - 📄 Serving document: uploaded_documents/d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf
2025-11-01 13:02:00 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 13:02:00] "GET /api/review/46/pdf/16 HTTP/1.1" 200 -
2025-11-01 13:02:00 - pdfminer.pdffont - WARNING - Could get FontBBox from font descriptor because None cannot be parsed as 4 floats
2025-11-01 13:02:01 - review_backend - INFO - 📄 Found document for admin/reviewer: doc_id=16, file_path=uploaded_documents/d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf
2025-11-01 13:02:01 - review_backend - INFO - 📄 Resolving PDF path: doc_id=16, filename=d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf, file_path=uploaded_documents/d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf
2025-11-01 13:02:01 - review_backend - INFO -    App root: /Users/rohitjangid/Downloads/Lease/lease_application
2025-11-01 13:02:01 - review_backend - INFO -    Uploaded docs dir: /Users/rohitjangid/Downloads/Lease/lease_application/uploaded_documents
2025-11-01 13:02:01 - review_backend - INFO -    Uploaded docs dir exists: True
2025-11-01 13:02:01 - review_backend - INFO -    Checking 4 possible paths: ['uploaded_documents/d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf', '/Users/rohitjangid/Downloads/Lease/lease_application/uploaded_documents/d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf', 'lease_application/uploaded_documents/d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf', '/Users/rohitjangid/Downloads/Lease/lease_application/lease_application/uploaded_documents/d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf']...
2025-11-01 13:02:01 - review_backend - INFO - 📄 Serving document: uploaded_documents/d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf
2025-11-01 13:02:01 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 13:02:01] "GET /api/review/46/pdf/16 HTTP/1.1" 200 -
2025-11-01 13:02:02 - pdfminer.pdffont - WARNING - Could get FontBBox from font descriptor because None cannot be parsed as 4 floats
2025-11-01 13:02:04 - pdfminer.pdffont - WARNING - Could get FontBBox from font descriptor because None cannot be parsed as 4 floats
2025-11-01 13:02:06 - pdfminer.pdffont - WARNING - Could get FontBBox from font descriptor because None cannot be parsed as 4 floats
2025-11-01 13:02:08 - pdfminer.pdffont - WARNING - Could get FontBBox from font descriptor because None cannot be parsed as 4 floats
2025-11-01 13:02:10 - pdfminer.pdffont - WARNING - Could get FontBBox from font descriptor because None cannot be parsed as 4 floats
2025-11-01 13:02:12 - pdfminer.pdffont - WARNING - Could get FontBBox from font descriptor because None cannot be parsed as 4 floats
2025-11-01 13:02:14 - pdfminer.pdffont - WARNING - Could get FontBBox from font descriptor because None cannot be parsed as 4 floats
2025-11-01 13:02:16 - pdfminer.pdffont - WARNING - Could get FontBBox from font descriptor because None cannot be parsed as 4 floats
2025-11-01 13:02:17 - pdf_upload_backend - INFO - ✅ Found coordinates via text search for end_date: page=11, bbox=[45.749998093749994, 649.8456760030952, 139.40624419140624, 661.8456755030952]
2025-11-01 13:02:17 - pdfminer.pdffont - WARNING - Could get FontBBox from font descriptor because None cannot be parsed as 4 floats
2025-11-01 13:02:19 - pdfminer.pdffont - WARNING - Could get FontBBox from font descriptor because None cannot be parsed as 4 floats
2025-11-01 13:02:21 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 13:02:21] "GET /review.html?lease_id=46 HTTP/1.1" 200 -
2025-11-01 13:02:21 - pdfminer.pdffont - WARNING - Could get FontBBox from font descriptor because None cannot be parsed as 4 floats
2025-11-01 13:02:21 - review_backend - INFO - 📋 Review Metadata Debug for lease_id=46:
2025-11-01 13:02:22 - review_backend - INFO -    - user_id: 2
2025-11-01 13:02:22 - review_backend - INFO -    - user: {'user_id': 2, 'username': 'Rohit', 'email': 'rjrohitjangid0401@gmail.com', 'role': 'admin', 'is_active': 1, 'created_at': '2025-10-29 05:15:06'}
2025-11-01 13:02:22 - review_backend - INFO -    - is_admin: True
2025-11-01 13:02:22 - review_backend - INFO -    - is_reviewer: False
2025-11-01 13:02:22 - review_backend - INFO -    - Admin/Reviewer: Fetching documents without ownership check...
2025-11-01 13:02:22 - database - INFO - 🔍 get_lease_documents called:
2025-11-01 13:02:22 - database - INFO -    - lease_id: 46
2025-11-01 13:02:22 - database - INFO -    - user_id: 2
2025-11-01 13:02:22 - database - INFO -    - check_ownership: False
2025-11-01 13:02:22 - database - INFO -    - Query: SELECT * FROM lease_documents WHERE lease_id = 46 (no user check)
2025-11-01 13:02:22 - database - INFO -    - Raw rows fetched: 1
2025-11-01 13:02:22 - database - INFO -    - Row types: ['Row']
2025-11-01 13:02:22 - database - INFO -    - Found 1 documents after conversion
2025-11-01 13:02:22 - database - INFO -    - First document: doc_id=16, filename=d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf, file_type=application/pdf
2025-11-01 13:02:22 - review_backend - INFO -    - Total documents found: 1
2025-11-01 13:02:22 - review_backend - INFO -    - Document 1: doc_id=16, filename=d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf, file_type=application/pdf, lease_id=46, user_id=3
2025-11-01 13:02:22 - review_backend - INFO -    - ✅ Included PDF doc: doc_id=16, filename=d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf, file_type=application/pdf, file_path=uploaded_documents/d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf
2025-11-01 13:02:22 - review_backend - INFO -    - PDF documents found: 1 (from 1 total documents)
2025-11-01 13:02:22 - review_backend - INFO -    - App root: /Users/rohitjangid/Downloads/Lease/lease_application
2025-11-01 13:02:22 - review_backend - INFO -    - Uploaded docs dir: /Users/rohitjangid/Downloads/Lease/lease_application/uploaded_documents
2025-11-01 13:02:22 - review_backend - INFO -    - Uploaded docs dir exists: True
2025-11-01 13:02:22 - review_backend - INFO -    - Current working directory: /Users/rohitjangid/Downloads/Lease/lease_application
2025-11-01 13:02:22 - review_backend - INFO -    - PDF 1: doc_id=16, filename=d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf, file_path=uploaded_documents/d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf
2025-11-01 13:02:22 - review_backend - INFO -    - PDF file exists: True, existing_path: uploaded_documents/d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf
2025-11-01 13:02:22 - review_backend - INFO -    - Checked paths: ['uploaded_documents/d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf', 'lease_application/uploaded_documents/d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf', '/Users/rohitjangid/Downloads/Lease/lease_application/uploaded_documents/d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf', '/Users/rohitjangid/Downloads/Lease/lease_application/lease_application/uploaded_documents/d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf']
2025-11-01 13:02:22 - review_backend - INFO -    - ✅ Updated file_path to: uploaded_documents/d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf
2025-11-01 13:02:22 - review_backend - INFO -    - Checking for highlighted PDF at: ['uploaded_documents/highlighted_lease_46.pdf', 'lease_application/uploaded_documents/highlighted_lease_46.pdf', '/Users/rohitjangid/Downloads/Lease/lease_application/uploaded_documents/highlighted_lease_46.pdf']
2025-11-01 13:02:22 - review_backend - INFO -    - Highlighted PDF not found (checked: ['uploaded_documents/highlighted_lease_46.pdf', 'lease_application/uploaded_documents/highlighted_lease_46.pdf', '/Users/rohitjangid/Downloads/Lease/lease_application/uploaded_documents/highlighted_lease_46.pdf'])
2025-11-01 13:02:22 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 13:02:22] "GET /api/review/46/metadata HTTP/1.1" 200 -
2025-11-01 13:02:22 - review_backend - INFO - 📄 Found document for admin/reviewer: doc_id=16, file_path=uploaded_documents/d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf
2025-11-01 13:02:22 - review_backend - INFO - 📄 Resolving PDF path: doc_id=16, filename=d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf, file_path=uploaded_documents/d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf
2025-11-01 13:02:22 - review_backend - INFO -    App root: /Users/rohitjangid/Downloads/Lease/lease_application
2025-11-01 13:02:22 - review_backend - INFO -    Uploaded docs dir: /Users/rohitjangid/Downloads/Lease/lease_application/uploaded_documents
2025-11-01 13:02:22 - review_backend - INFO -    Uploaded docs dir exists: True
2025-11-01 13:02:22 - review_backend - INFO -    Checking 4 possible paths: ['uploaded_documents/d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf', '/Users/rohitjangid/Downloads/Lease/lease_application/uploaded_documents/d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf', 'lease_application/uploaded_documents/d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf', '/Users/rohitjangid/Downloads/Lease/lease_application/lease_application/uploaded_documents/d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf']...
2025-11-01 13:02:22 - review_backend - INFO - 📄 Serving document: uploaded_documents/d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf
2025-11-01 13:02:22 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 13:02:22] "[36mGET /api/review/46/pdf/16 HTTP/1.1[0m" 304 -
2025-11-01 13:02:23 - pdfminer.pdffont - WARNING - Could get FontBBox from font descriptor because None cannot be parsed as 4 floats
2025-11-01 13:02:24 - review_backend - INFO - 📄 Found document for admin/reviewer: doc_id=16, file_path=uploaded_documents/d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf
2025-11-01 13:02:24 - review_backend - INFO - 📄 Resolving PDF path: doc_id=16, filename=d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf, file_path=uploaded_documents/d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf
2025-11-01 13:02:24 - review_backend - INFO -    App root: /Users/rohitjangid/Downloads/Lease/lease_application
2025-11-01 13:02:24 - review_backend - INFO -    Uploaded docs dir: /Users/rohitjangid/Downloads/Lease/lease_application/uploaded_documents
2025-11-01 13:02:24 - review_backend - INFO -    Uploaded docs dir exists: True
2025-11-01 13:02:24 - review_backend - INFO -    Checking 4 possible paths: ['uploaded_documents/d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf', '/Users/rohitjangid/Downloads/Lease/lease_application/uploaded_documents/d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf', 'lease_application/uploaded_documents/d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf', '/Users/rohitjangid/Downloads/Lease/lease_application/lease_application/uploaded_documents/d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf']...
2025-11-01 13:02:24 - review_backend - INFO - 📄 Serving document: uploaded_documents/d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf
2025-11-01 13:02:24 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 13:02:24] "[36mGET /api/review/46/pdf/16 HTTP/1.1[0m" 304 -
2025-11-01 13:02:25 - pdfminer.pdffont - WARNING - Could get FontBBox from font descriptor because None cannot be parsed as 4 floats
2025-11-01 13:02:27 - pdfminer.pdffont - WARNING - Could get FontBBox from font descriptor because None cannot be parsed as 4 floats
2025-11-01 13:02:29 - pdfminer.pdffont - WARNING - Could get FontBBox from font descriptor because None cannot be parsed as 4 floats
2025-11-01 13:02:31 - pdfminer.pdffont - WARNING - Could get FontBBox from font descriptor because None cannot be parsed as 4 floats
2025-11-01 13:02:33 - pdfminer.pdffont - WARNING - Could get FontBBox from font descriptor because None cannot be parsed as 4 floats
2025-11-01 13:02:33 - review_backend - INFO - 📄 Found document for admin/reviewer: doc_id=16, file_path=uploaded_documents/d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf
2025-11-01 13:02:33 - review_backend - INFO - 📄 Resolving PDF path: doc_id=16, filename=d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf, file_path=uploaded_documents/d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf
2025-11-01 13:02:33 - review_backend - INFO -    App root: /Users/rohitjangid/Downloads/Lease/lease_application
2025-11-01 13:02:33 - review_backend - INFO -    Uploaded docs dir: /Users/rohitjangid/Downloads/Lease/lease_application/uploaded_documents
2025-11-01 13:02:33 - review_backend - INFO -    Uploaded docs dir exists: True
2025-11-01 13:02:33 - review_backend - INFO -    Checking 4 possible paths: ['uploaded_documents/d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf', '/Users/rohitjangid/Downloads/Lease/lease_application/uploaded_documents/d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf', 'lease_application/uploaded_documents/d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf', '/Users/rohitjangid/Downloads/Lease/lease_application/lease_application/uploaded_documents/d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf']...
2025-11-01 13:02:33 - review_backend - INFO - 📄 Serving document: uploaded_documents/d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf
2025-11-01 13:02:33 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 13:02:33] "[36mGET /api/review/46/pdf/16 HTTP/1.1[0m" 304 -
2025-11-01 13:02:35 - pdfminer.pdffont - WARNING - Could get FontBBox from font descriptor because None cannot be parsed as 4 floats
2025-11-01 13:02:36 - review_backend - INFO - 📄 Found document for admin/reviewer: doc_id=16, file_path=uploaded_documents/d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf
2025-11-01 13:02:36 - review_backend - INFO - 📄 Resolving PDF path: doc_id=16, filename=d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf, file_path=uploaded_documents/d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf
2025-11-01 13:02:36 - review_backend - INFO -    App root: /Users/rohitjangid/Downloads/Lease/lease_application
2025-11-01 13:02:36 - review_backend - INFO -    Uploaded docs dir: /Users/rohitjangid/Downloads/Lease/lease_application/uploaded_documents
2025-11-01 13:02:36 - review_backend - INFO -    Uploaded docs dir exists: True
2025-11-01 13:02:36 - review_backend - INFO -    Checking 4 possible paths: ['uploaded_documents/d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf', '/Users/rohitjangid/Downloads/Lease/lease_application/uploaded_documents/d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf', 'lease_application/uploaded_documents/d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf', '/Users/rohitjangid/Downloads/Lease/lease_application/lease_application/uploaded_documents/d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf']...
2025-11-01 13:02:36 - review_backend - INFO - 📄 Serving document: uploaded_documents/d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf
2025-11-01 13:02:36 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 13:02:36] "[36mGET /api/review/46/pdf/16 HTTP/1.1[0m" 304 -
2025-11-01 13:02:36 - pdfminer.pdffont - WARNING - Could get FontBBox from font descriptor because None cannot be parsed as 4 floats
2025-11-01 13:02:38 - pdfminer.pdffont - WARNING - Could get FontBBox from font descriptor because None cannot be parsed as 4 floats
2025-11-01 13:02:40 - pdfminer.pdffont - WARNING - Could get FontBBox from font descriptor because None cannot be parsed as 4 floats
2025-11-01 13:02:42 - pdfminer.pdffont - WARNING - Could get FontBBox from font descriptor because None cannot be parsed as 4 floats
2025-11-01 13:02:44 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 13:02:44] "[33mGET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1[0m" 404 -
2025-11-01 13:02:44 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 13:02:44] "[36mGET /static/css/common.css HTTP/1.1[0m" 304 -
2025-11-01 13:02:45 - pdfminer.pdffont - WARNING - Could get FontBBox from font descriptor because None cannot be parsed as 4 floats
2025-11-01 13:02:47 - pdfminer.pdffont - WARNING - Could get FontBBox from font descriptor because None cannot be parsed as 4 floats
2025-11-01 13:02:49 - pdfminer.pdffont - WARNING - Could get FontBBox from font descriptor because None cannot be parsed as 4 floats
2025-11-01 13:02:51 - pdfminer.pdffont - WARNING - Could get FontBBox from font descriptor because None cannot be parsed as 4 floats
2025-11-01 13:02:52 - pdfminer.pdffont - WARNING - Could get FontBBox from font descriptor because None cannot be parsed as 4 floats
2025-11-01 13:02:54 - pdfminer.pdffont - WARNING - Could get FontBBox from font descriptor because None cannot be parsed as 4 floats
2025-11-01 13:02:56 - pdfminer.pdffont - WARNING - Could get FontBBox from font descriptor because None cannot be parsed as 4 floats
2025-11-01 13:02:58 - pdfminer.pdffont - WARNING - Could get FontBBox from font descriptor because None cannot be parsed as 4 floats
2025-11-01 13:03:00 - pdfminer.pdffont - WARNING - Could get FontBBox from font descriptor because None cannot be parsed as 4 floats
2025-11-01 13:03:02 - pdfminer.pdffont - WARNING - Could get FontBBox from font descriptor because None cannot be parsed as 4 floats
2025-11-01 13:03:04 - api - INFO -    - ✅ Extraction metadata saved
2025-11-01 13:03:04 - api - INFO -    - ✅ Pending PDF associated successfully with lease_id=46
2025-11-01 13:03:13 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 13:03:13] "GET /review.html?lease_id=46 HTTP/1.1" 200 -
2025-11-01 13:03:13 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 13:03:13] "[36mGET /static/css/common.css HTTP/1.1[0m" 304 -
2025-11-01 13:03:13 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 13:03:13] "[33mGET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1[0m" 404 -
2025-11-01 13:03:13 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 13:03:13] "[36mGET /static/js/api.js HTTP/1.1[0m" 304 -
2025-11-01 13:03:13 - review_backend - INFO - 📋 Review Metadata Debug for lease_id=46:
2025-11-01 13:03:13 - review_backend - INFO -    - user_id: 2
2025-11-01 13:03:13 - review_backend - INFO -    - user: {'user_id': 2, 'username': 'Rohit', 'email': 'rjrohitjangid0401@gmail.com', 'role': 'admin', 'is_active': 1, 'created_at': '2025-10-29 05:15:06'}
2025-11-01 13:03:13 - review_backend - INFO -    - is_admin: True
2025-11-01 13:03:13 - review_backend - INFO -    - is_reviewer: False
2025-11-01 13:03:13 - review_backend - INFO -    - Admin/Reviewer: Fetching documents without ownership check...
2025-11-01 13:03:13 - database - INFO - 🔍 get_lease_documents called:
2025-11-01 13:03:13 - database - INFO -    - lease_id: 46
2025-11-01 13:03:13 - database - INFO -    - user_id: 2
2025-11-01 13:03:13 - database - INFO -    - check_ownership: False
2025-11-01 13:03:13 - database - INFO -    - Query: SELECT * FROM lease_documents WHERE lease_id = 46 (no user check)
2025-11-01 13:03:13 - database - INFO -    - Raw rows fetched: 1
2025-11-01 13:03:13 - database - INFO -    - Row types: ['Row']
2025-11-01 13:03:13 - database - INFO -    - Found 1 documents after conversion
2025-11-01 13:03:13 - database - INFO -    - First document: doc_id=16, filename=d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf, file_type=application/pdf
2025-11-01 13:03:13 - review_backend - INFO -    - Total documents found: 1
2025-11-01 13:03:13 - review_backend - INFO -    - Document 1: doc_id=16, filename=d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf, file_type=application/pdf, lease_id=46, user_id=3
2025-11-01 13:03:13 - review_backend - INFO -    - ✅ Included PDF doc: doc_id=16, filename=d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf, file_type=application/pdf, file_path=uploaded_documents/d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf
2025-11-01 13:03:13 - review_backend - INFO -    - PDF documents found: 1 (from 1 total documents)
2025-11-01 13:03:13 - review_backend - INFO -    - App root: /Users/rohitjangid/Downloads/Lease/lease_application
2025-11-01 13:03:13 - review_backend - INFO -    - Uploaded docs dir: /Users/rohitjangid/Downloads/Lease/lease_application/uploaded_documents
2025-11-01 13:03:13 - review_backend - INFO -    - Uploaded docs dir exists: True
2025-11-01 13:03:13 - review_backend - INFO -    - Current working directory: /Users/rohitjangid/Downloads/Lease/lease_application
2025-11-01 13:03:13 - review_backend - INFO -    - PDF 1: doc_id=16, filename=d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf, file_path=uploaded_documents/d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf
2025-11-01 13:03:13 - review_backend - INFO -    - PDF file exists: True, existing_path: uploaded_documents/d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf
2025-11-01 13:03:13 - review_backend - INFO -    - Checked paths: ['uploaded_documents/d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf', 'lease_application/uploaded_documents/d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf', '/Users/rohitjangid/Downloads/Lease/lease_application/uploaded_documents/d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf', '/Users/rohitjangid/Downloads/Lease/lease_application/lease_application/uploaded_documents/d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf']
2025-11-01 13:03:13 - review_backend - INFO -    - ✅ Updated file_path to: uploaded_documents/d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf
2025-11-01 13:03:13 - review_backend - INFO -    - Checking for highlighted PDF at: ['uploaded_documents/highlighted_lease_46.pdf', 'lease_application/uploaded_documents/highlighted_lease_46.pdf', '/Users/rohitjangid/Downloads/Lease/lease_application/uploaded_documents/highlighted_lease_46.pdf']
2025-11-01 13:03:13 - review_backend - INFO -    - Highlighted PDF not found (checked: ['uploaded_documents/highlighted_lease_46.pdf', 'lease_application/uploaded_documents/highlighted_lease_46.pdf', '/Users/rohitjangid/Downloads/Lease/lease_application/uploaded_documents/highlighted_lease_46.pdf'])
2025-11-01 13:03:13 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 13:03:13] "GET /api/review/46/metadata HTTP/1.1" 200 -
2025-11-01 13:03:13 - review_backend - INFO - 📄 Found document for admin/reviewer: doc_id=16, file_path=uploaded_documents/d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf
2025-11-01 13:03:13 - review_backend - INFO - 📄 Resolving PDF path: doc_id=16, filename=d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf, file_path=uploaded_documents/d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf
2025-11-01 13:03:13 - review_backend - INFO -    App root: /Users/rohitjangid/Downloads/Lease/lease_application
2025-11-01 13:03:13 - review_backend - INFO -    Uploaded docs dir: /Users/rohitjangid/Downloads/Lease/lease_application/uploaded_documents
2025-11-01 13:03:13 - review_backend - INFO -    Uploaded docs dir exists: True
2025-11-01 13:03:13 - review_backend - INFO -    Checking 4 possible paths: ['uploaded_documents/d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf', '/Users/rohitjangid/Downloads/Lease/lease_application/uploaded_documents/d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf', 'lease_application/uploaded_documents/d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf', '/Users/rohitjangid/Downloads/Lease/lease_application/lease_application/uploaded_documents/d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf']...
2025-11-01 13:03:13 - review_backend - INFO - 📄 Serving document: uploaded_documents/d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf
2025-11-01 13:03:13 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 13:03:13] "[36mGET /api/review/46/pdf/16 HTTP/1.1[0m" 304 -
2025-11-01 13:03:14 - review_backend - INFO - 📄 Found document for admin/reviewer: doc_id=16, file_path=uploaded_documents/d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf
2025-11-01 13:03:14 - review_backend - INFO - 📄 Resolving PDF path: doc_id=16, filename=d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf, file_path=uploaded_documents/d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf
2025-11-01 13:03:14 - review_backend - INFO -    App root: /Users/rohitjangid/Downloads/Lease/lease_application
2025-11-01 13:03:14 - review_backend - INFO -    Uploaded docs dir: /Users/rohitjangid/Downloads/Lease/lease_application/uploaded_documents
2025-11-01 13:03:14 - review_backend - INFO -    Uploaded docs dir exists: True
2025-11-01 13:03:14 - review_backend - INFO -    Checking 4 possible paths: ['uploaded_documents/d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf', '/Users/rohitjangid/Downloads/Lease/lease_application/uploaded_documents/d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf', 'lease_application/uploaded_documents/d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf', '/Users/rohitjangid/Downloads/Lease/lease_application/lease_application/uploaded_documents/d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf']...
2025-11-01 13:03:14 - review_backend - INFO - 📄 Serving document: uploaded_documents/d86e8e1f-c6fc-47eb-afd7-094c097cc2bc.pdf
2025-11-01 13:03:14 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 13:03:14] "[36mGET /api/review/46/pdf/16 HTTP/1.1[0m" 304 -
2025-11-01 13:06:18 - werkzeug - INFO -  * Detected change in '/Users/rohitjangid/Downloads/Lease/lease_application/pdf_upload_backend.py', reloading
✅ Database initialized
An error occurred: module 'importlib.metadata' has no attribute 'packages_distributions'
✅ Database initialized
Available Gemini models:
- models/embedding-gecko-001
- models/gemini-2.5-pro-preview-03-25
- models/gemini-2.5-flash-preview-05-20
- models/gemini-2.5-flash
- models/gemini-2.5-flash-lite-preview-06-17
- models/gemini-2.5-pro-preview-05-06
- models/gemini-2.5-pro-preview-06-05
- models/gemini-2.5-pro
- models/gemini-2.0-flash-exp
- models/gemini-2.0-flash
- models/gemini-2.0-flash-001
- models/gemini-2.0-flash-exp-image-generation
- models/gemini-2.0-flash-lite-001
- models/gemini-2.0-flash-lite
- models/gemini-2.0-flash-preview-image-generation
- models/gemini-2.0-flash-lite-preview-02-05
- models/gemini-2.0-flash-lite-preview
- models/gemini-2.0-pro-exp
- models/gemini-2.0-pro-exp-02-05
- models/gemini-exp-1206
- models/gemini-2.0-flash-thinking-exp-01-21
- models/gemini-2.0-flash-thinking-exp
- models/gemini-2.0-flash-thinking-exp-1219
- models/gemini-2.5-flash-preview-tts
- models/gemini-2.5-pro-preview-tts
- models/learnlm-2.0-flash-experimental
- models/gemma-3-1b-it
- models/gemma-3-4b-it
- models/gemma-3-12b-it
- models/gemma-3-27b-it
- models/gemma-3n-e4b-it
- models/gemma-3n-e2b-it
- models/gemini-flash-latest
- models/gemini-flash-lite-latest
- models/gemini-pro-latest
- models/gemini-2.5-flash-lite
- models/gemini-2.5-flash-image-preview
- models/gemini-2.5-flash-image
- models/gemini-2.5-flash-preview-09-2025
- models/gemini-2.5-flash-lite-preview-09-2025
- models/gemini-robotics-er-1.5-preview
- models/gemini-2.5-computer-use-preview-10-2025
- models/embedding-001
- models/text-embedding-004
- models/gemini-embedding-exp-03-07
- models/gemini-embedding-exp
- models/gemini-embedding-001
- models/aqa
- models/imagen-3.0-generate-002
- models/imagen-4.0-generate-preview-06-06
- models/imagen-4.0-ultra-generate-preview-06-06
- models/imagen-4.0-generate-001
- models/imagen-4.0-ultra-generate-001
- models/imagen-4.0-fast-generate-001
- models/veo-2.0-generate-001
- models/veo-3.0-generate-preview
- models/veo-3.0-fast-generate-preview
- models/veo-3.0-generate-001
- models/veo-3.0-fast-generate-001
- models/veo-3.1-generate-preview
- models/veo-3.1-fast-generate-preview
- models/gemini-2.0-flash-live-001
- models/gemini-live-2.5-flash-preview
- models/gemini-2.5-flash-live-preview
- models/gemini-2.5-flash-native-audio-latest
- models/gemini-2.5-flash-native-audio-preview-09-2025
Trying Gemini model: models/gemini-2.5-flash
✅ Successfully using: models/gemini-2.5-flash
✅ Got PDF dimensions from pdfplumber: {1: {'width': 594.95996, 'height': 841.91998}, 2: {'width': 594.95996, 'height': 841.91998}, 3: {'width': 594.95996, 'height': 841.91998}, 4: {'width': 594.95996, 'height': 841.91998}, 5: {'width': 594.95996, 'height': 841.91998}, 6: {'width': 594.95996, 'height': 841.91998}, 7: {'width': 594.95996, 'height': 841.91998}, 8: {'width': 594.95996, 'height': 841.91998}, 9: {'width': 594.95996, 'height': 841.91998}, 10: {'width': 594.95996, 'height': 841.91998}, 11: {'width': 594.95996, 'height': 841.91998}, 12: {'width': 594.95996, 'height': 841.91998}, 13: {'width': 594.95996, 'height': 841.91998}, 14: {'width': 594.95996, 'height': 841.91998}, 15: {'width': 594.95996, 'height': 841.91998}, 16: {'width': 594.95996, 'height': 841.91998}, 17: {'width': 594.95996, 'height': 841.91998}, 18: {'width': 594.95996, 'height': 841.91998}, 19: {'width': 594.95996, 'height': 841.91998}, 20: {'width': 594.95996, 'height': 841.91998}, 21: {'width': 594.95996, 'height': 841.91998}, 22: {'width': 594.95996, 'height': 841.91998}, 23: {'width': 594.95996, 'height': 841.91998}, 24: {'width': 594.95996, 'height': 841.91998}, 25: {'width': 594.95996, 'height': 841.91998}, 26: {'width': 594.95996, 'height': 841.91998}}
Trying Gemini model: models/gemini-2.5-pro
✅ Successfully using: models/gemini-2.5-pro
⚠️ Structured output not supported, using prompt-based extraction: Unknown field for Schema: minItems
2025-11-01 13:06:20 - werkzeug - INFO -  * Restarting with stat
/Users/rohitjangid/Library/Python/3.9/lib/python/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.6) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
  warnings.warn(message, FutureWarning)
/Users/rohitjangid/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
2025-11-01 13:06:20 - root - INFO - 🚀 Initializing Lease Management Application...
2025-11-01 13:06:20 - root - INFO - ✅ Database initialized
2025-11-01 13:06:20 - root - INFO - ✅ Blueprints registered
2025-11-01 13:06:20 - root - INFO - ✅ Application created successfully
2025-11-01 13:06:20 - root - INFO - 📂 Template folder: frontend/templates
2025-11-01 13:06:20 - root - INFO - 📂 Static folder: /Users/rohitjangid/Downloads/Lease/lease_application/frontend/static
2025-11-01 13:06:20 - __main__ - INFO - ══════════════════════════════════════════════════════════════
2025-11-01 13:06:20 - __main__ - INFO -    📊 Lease Management System - Starting Server
2025-11-01 13:06:20 - __main__ - INFO - ══════════════════════════════════════════════════════════════
2025-11-01 13:06:20 - __main__ - INFO - 📍 API Endpoint: http://localhost:5001/api/
2025-11-01 13:06:20 - __main__ - INFO -    - /api/register - User registration
2025-11-01 13:06:20 - __main__ - INFO -    - /api/login - User login
2025-11-01 13:06:20 - __main__ - INFO -    - /api/leases - Manage leases
2025-11-01 13:06:20 - __main__ - INFO -    - /api/calculate_lease - Calculate lease
2025-11-01 13:06:20 - __main__ - INFO - 📝 Logs: /Users/rohitjangid/Downloads/Lease/lease_application/logs/lease_app.log
2025-11-01 13:06:20 - __main__ - INFO - ══════════════════════════════════════════════════════════════
2025-11-01 13:06:20 - werkzeug - WARNING -  * Debugger is active!
2025-11-01 13:06:20 - werkzeug - INFO -  * Debugger PIN: 837-703-174
2025-11-01 13:06:27 - werkzeug - INFO -  * Detected change in '/Users/rohitjangid/Downloads/Lease/lease_application/lease_accounting/utils/pdf_extractor.py', reloading
✅ Database initialized
An error occurred: module 'importlib.metadata' has no attribute 'packages_distributions'
✅ Database initialized
2025-11-01 13:06:27 - werkzeug - INFO -  * Restarting with stat
/Users/rohitjangid/Library/Python/3.9/lib/python/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.6) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
  warnings.warn(message, FutureWarning)
/Users/rohitjangid/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
2025-11-01 13:06:28 - root - INFO - 🚀 Initializing Lease Management Application...
2025-11-01 13:06:28 - root - INFO - ✅ Database initialized
2025-11-01 13:06:28 - root - INFO - ✅ Blueprints registered
2025-11-01 13:06:28 - root - INFO - ✅ Application created successfully
2025-11-01 13:06:28 - root - INFO - 📂 Template folder: frontend/templates
2025-11-01 13:06:28 - root - INFO - 📂 Static folder: /Users/rohitjangid/Downloads/Lease/lease_application/frontend/static
2025-11-01 13:06:28 - __main__ - INFO - ══════════════════════════════════════════════════════════════
2025-11-01 13:06:28 - __main__ - INFO -    📊 Lease Management System - Starting Server
2025-11-01 13:06:28 - __main__ - INFO - ══════════════════════════════════════════════════════════════
2025-11-01 13:06:28 - __main__ - INFO - 📍 API Endpoint: http://localhost:5001/api/
2025-11-01 13:06:28 - __main__ - INFO -    - /api/register - User registration
2025-11-01 13:06:28 - __main__ - INFO -    - /api/login - User login
2025-11-01 13:06:28 - __main__ - INFO -    - /api/leases - Manage leases
2025-11-01 13:06:28 - __main__ - INFO -    - /api/calculate_lease - Calculate lease
2025-11-01 13:06:28 - __main__ - INFO - 📝 Logs: /Users/rohitjangid/Downloads/Lease/lease_application/logs/lease_app.log
2025-11-01 13:06:28 - __main__ - INFO - ══════════════════════════════════════════════════════════════
2025-11-01 13:06:28 - werkzeug - WARNING -  * Debugger is active!
2025-11-01 13:06:28 - werkzeug - INFO -  * Debugger PIN: 837-703-174
2025-11-01 13:06:32 - werkzeug - INFO -  * Detected change in '/Users/rohitjangid/Downloads/Lease/lease_application/lease_accounting/utils/pdf_extractor.py', reloading
✅ Database initialized
An error occurred: module 'importlib.metadata' has no attribute 'packages_distributions'
✅ Database initialized
2025-11-01 13:06:32 - werkzeug - INFO -  * Restarting with stat
/Users/rohitjangid/Library/Python/3.9/lib/python/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.6) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
  warnings.warn(message, FutureWarning)
/Users/rohitjangid/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
2025-11-01 13:06:32 - root - INFO - 🚀 Initializing Lease Management Application...
2025-11-01 13:06:32 - root - INFO - ✅ Database initialized
2025-11-01 13:06:32 - root - INFO - ✅ Blueprints registered
2025-11-01 13:06:32 - root - INFO - ✅ Application created successfully
2025-11-01 13:06:32 - root - INFO - 📂 Template folder: frontend/templates
2025-11-01 13:06:32 - root - INFO - 📂 Static folder: /Users/rohitjangid/Downloads/Lease/lease_application/frontend/static
2025-11-01 13:06:32 - __main__ - INFO - ══════════════════════════════════════════════════════════════
2025-11-01 13:06:32 - __main__ - INFO -    📊 Lease Management System - Starting Server
2025-11-01 13:06:32 - __main__ - INFO - ══════════════════════════════════════════════════════════════
2025-11-01 13:06:32 - __main__ - INFO - 📍 API Endpoint: http://localhost:5001/api/
2025-11-01 13:06:32 - __main__ - INFO -    - /api/register - User registration
2025-11-01 13:06:32 - __main__ - INFO -    - /api/login - User login
2025-11-01 13:06:32 - __main__ - INFO -    - /api/leases - Manage leases
2025-11-01 13:06:32 - __main__ - INFO -    - /api/calculate_lease - Calculate lease
2025-11-01 13:06:32 - __main__ - INFO - 📝 Logs: /Users/rohitjangid/Downloads/Lease/lease_application/logs/lease_app.log
2025-11-01 13:06:32 - __main__ - INFO - ══════════════════════════════════════════════════════════════
2025-11-01 13:06:32 - werkzeug - WARNING -  * Debugger is active!
2025-11-01 13:06:32 - werkzeug - INFO -  * Debugger PIN: 837-703-174
2025-11-01 13:06:44 - werkzeug - INFO -  * Detected change in '/Users/rohitjangid/Downloads/Lease/lease_application/lease_accounting/utils/pdf_extractor.py', reloading
✅ Database initialized
An error occurred: module 'importlib.metadata' has no attribute 'packages_distributions'
✅ Database initialized
2025-11-01 13:06:44 - werkzeug - INFO -  * Restarting with stat
/Users/rohitjangid/Library/Python/3.9/lib/python/site-packages/google/api_core/_python_version_support.py:252: FutureWarning: You are using a Python version (3.9.6) past its end of life. Google will update google.api_core with critical bug fixes on a best-effort basis, but not with any other fixes or features. Please upgrade to the latest Python version, or at least Python 3.10, and then update google.api_core.
  warnings.warn(message, FutureWarning)
/Users/rohitjangid/Library/Python/3.9/lib/python/site-packages/urllib3/__init__.py:35: NotOpenSSLWarning: urllib3 v2 only supports OpenSSL 1.1.1+, currently the 'ssl' module is compiled with 'LibreSSL 2.8.3'. See: https://github.com/urllib3/urllib3/issues/3020
  warnings.warn(
2025-11-01 13:06:44 - root - INFO - 🚀 Initializing Lease Management Application...
2025-11-01 13:06:44 - root - INFO - ✅ Database initialized
2025-11-01 13:06:44 - root - INFO - ✅ Blueprints registered
2025-11-01 13:06:44 - root - INFO - ✅ Application created successfully
2025-11-01 13:06:44 - root - INFO - 📂 Template folder: frontend/templates
2025-11-01 13:06:44 - root - INFO - 📂 Static folder: /Users/rohitjangid/Downloads/Lease/lease_application/frontend/static
2025-11-01 13:06:44 - __main__ - INFO - ══════════════════════════════════════════════════════════════
2025-11-01 13:06:44 - __main__ - INFO -    📊 Lease Management System - Starting Server
2025-11-01 13:06:44 - __main__ - INFO - ══════════════════════════════════════════════════════════════
2025-11-01 13:06:44 - __main__ - INFO - 📍 API Endpoint: http://localhost:5001/api/
2025-11-01 13:06:44 - __main__ - INFO -    - /api/register - User registration
2025-11-01 13:06:44 - __main__ - INFO -    - /api/login - User login
2025-11-01 13:06:44 - __main__ - INFO -    - /api/leases - Manage leases
2025-11-01 13:06:44 - __main__ - INFO -    - /api/calculate_lease - Calculate lease
2025-11-01 13:06:44 - __main__ - INFO - 📝 Logs: /Users/rohitjangid/Downloads/Lease/lease_application/logs/lease_app.log
2025-11-01 13:06:44 - __main__ - INFO - ══════════════════════════════════════════════════════════════
2025-11-01 13:06:44 - werkzeug - WARNING -  * Debugger is active!
2025-11-01 13:06:44 - werkzeug - INFO -  * Debugger PIN: 837-703-174
2025-11-01 15:50:10 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:50:10] "GET /login.html HTTP/1.1" 200 -
2025-11-01 15:50:10 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:50:10] "[36mGET /static/css/common.css HTTP/1.1[0m" 304 -
2025-11-01 15:50:10 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:50:10] "[36mGET /static/css/login.css HTTP/1.1[0m" 304 -
2025-11-01 15:50:10 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:50:10] "[36mGET /static/js/api.js HTTP/1.1[0m" 304 -
2025-11-01 15:50:10 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:50:10] "[36mGET /static/js/login.js HTTP/1.1[0m" 304 -
2025-11-01 15:51:49 - auth - INFO - 🔐 POST /api/login - Login request
2025-11-01 15:51:49 - auth - INFO - ✅ Login successful: user_id=3, username=maker
2025-11-01 15:51:49 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:51:49] "POST /api/login HTTP/1.1" 200 -
2025-11-01 15:51:50 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:51:50] "GET /dashboard.html HTTP/1.1" 200 -
2025-11-01 15:51:50 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:51:50] "[36mGET /static/css/common.css HTTP/1.1[0m" 304 -
2025-11-01 15:51:50 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:51:50] "[36mGET /static/css/dashboard.css HTTP/1.1[0m" 304 -
2025-11-01 15:51:50 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:51:50] "GET /api/user HTTP/1.1" 200 -
2025-11-01 15:51:50 - api - INFO - 📋 GET /api/leases - User 3  fetching leases
2025-11-01 15:51:50 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:51:50] "GET /api/admin/check HTTP/1.1" 200 -
2025-11-01 15:51:50 - api - INFO - Found 13 leases for user 3
2025-11-01 15:51:50 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:51:50] "GET /api/user HTTP/1.1" 200 -
2025-11-01 15:51:50 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:51:50] "GET /api/leases HTTP/1.1" 200 -
2025-11-01 15:52:17 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:52:17] "GET /complete_lease_form.html?id=42 HTTP/1.1" 200 -
2025-11-01 15:52:17 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:52:17] "[36mGET /static/css/common.css HTTP/1.1[0m" 304 -
2025-11-01 15:52:17 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:52:17] "GET /api/user HTTP/1.1" 200 -
2025-11-01 15:52:17 - api - INFO - 🔍 GET /api/leases/42 - User 3  fetching lease
2025-11-01 15:52:17 - api - INFO - Lease 42 found
2025-11-01 15:52:17 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:52:17] "GET /api/leases/42 HTTP/1.1" 200 -
2025-11-01 15:52:17 - database - INFO - 🔍 get_lease_documents called:
2025-11-01 15:52:17 - database - INFO -    - lease_id: 42
2025-11-01 15:52:17 - database - INFO -    - user_id: 3
2025-11-01 15:52:17 - database - INFO -    - check_ownership: True
2025-11-01 15:52:17 - database - INFO -    - Query: SELECT * FROM lease_documents WHERE lease_id = 42 AND user_id = 3
2025-11-01 15:52:17 - database - INFO -    - Raw rows fetched: 1
2025-11-01 15:52:17 - database - INFO -    - Row types: ['Row']
2025-11-01 15:52:17 - database - INFO -    - Found 1 documents after conversion
2025-11-01 15:52:17 - database - INFO -    - First document: doc_id=12, filename=a325be5a-571e-4b72-a1cc-dfc637202a59.pdf, file_type=application/pdf
2025-11-01 15:52:17 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:52:17] "GET /api/documents/42 HTTP/1.1" 200 -
2025-11-01 15:52:28 - approval_backend - INFO - ✅ Lease 42 submitted for approval by user 3
2025-11-01 15:52:28 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:52:28] "POST /api/approvals/submit HTTP/1.1" 200 -
2025-11-01 15:52:34 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:52:34] "GET /dashboard.html HTTP/1.1" 200 -
2025-11-01 15:52:34 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:52:34] "[36mGET /static/css/common.css HTTP/1.1[0m" 304 -
2025-11-01 15:52:34 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:52:34] "[36mGET /static/css/dashboard.css HTTP/1.1[0m" 304 -
2025-11-01 15:52:34 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:52:34] "GET /api/user HTTP/1.1" 200 -
2025-11-01 15:52:34 - api - INFO - 📋 GET /api/leases - User 3  fetching leases
2025-11-01 15:52:34 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:52:34] "GET /api/admin/check HTTP/1.1" 200 -
2025-11-01 15:52:34 - api - INFO - Found 13 leases for user 3
2025-11-01 15:52:34 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:52:34] "GET /api/leases HTTP/1.1" 200 -
2025-11-01 15:52:34 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:52:34] "GET /api/user HTTP/1.1" 200 -
2025-11-01 15:52:35 - auth - INFO - 🚪 POST /api/logout - User 3 logging out
2025-11-01 15:52:35 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:52:35] "POST /api/logout HTTP/1.1" 200 -
2025-11-01 15:52:35 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:52:35] "GET /login.html HTTP/1.1" 200 -
2025-11-01 15:52:35 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:52:35] "[36mGET /static/css/common.css HTTP/1.1[0m" 304 -
2025-11-01 15:52:35 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:52:35] "[36mGET /static/css/login.css HTTP/1.1[0m" 304 -
2025-11-01 15:52:35 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:52:35] "[36mGET /static/js/api.js HTTP/1.1[0m" 304 -
2025-11-01 15:52:35 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:52:35] "[36mGET /static/js/login.js HTTP/1.1[0m" 304 -
2025-11-01 15:52:37 - auth - INFO - 🔐 POST /api/login - Login request
2025-11-01 15:52:38 - auth - INFO - ✅ Login successful: user_id=2, username=Rohit
2025-11-01 15:52:38 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:52:38] "POST /api/login HTTP/1.1" 200 -
2025-11-01 15:52:39 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:52:39] "GET /dashboard.html HTTP/1.1" 200 -
2025-11-01 15:52:39 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:52:39] "[36mGET /static/css/common.css HTTP/1.1[0m" 304 -
2025-11-01 15:52:39 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:52:39] "[36mGET /static/css/dashboard.css HTTP/1.1[0m" 304 -
2025-11-01 15:52:39 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:52:39] "GET /api/user HTTP/1.1" 200 -
2025-11-01 15:52:39 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:52:39] "GET /api/admin/check HTTP/1.1" 200 -
2025-11-01 15:52:39 - api - INFO - 📋 GET /api/leases - User 2 (Admin) fetching leases
2025-11-01 15:52:39 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:52:39] "GET /api/user HTTP/1.1" 200 -
2025-11-01 15:52:39 - api - INFO - Found 16 leases for user 2
2025-11-01 15:52:39 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:52:39] "GET /api/leases HTTP/1.1" 200 -
2025-11-01 15:52:41 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:52:41] "GET /admin.html HTTP/1.1" 200 -
2025-11-01 15:52:41 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:52:41] "[36mGET /static/css/common.css HTTP/1.1[0m" 304 -
2025-11-01 15:52:41 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:52:41] "GET /api/user HTTP/1.1" 200 -
2025-11-01 15:52:41 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:52:41] "GET /api/admin/stats HTTP/1.1" 200 -
2025-11-01 15:52:43 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:52:43] "GET /api/admin/users HTTP/1.1" 200 -
2025-11-01 15:52:44 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:52:44] "GET /api/admin/leases HTTP/1.1" 200 -
2025-11-01 15:52:46 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:52:46] "GET /api/email/settings HTTP/1.1" 200 -
2025-11-01 15:52:49 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:52:49] "GET /api/admin/google-ai-settings HTTP/1.1" 200 -
2025-11-01 15:52:54 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:52:54] "GET /api/admin/stats HTTP/1.1" 200 -
2025-11-01 15:52:55 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:52:55] "GET /api/admin/users HTTP/1.1" 200 -
2025-11-01 15:52:55 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:52:55] "GET /api/admin/stats HTTP/1.1" 200 -
2025-11-01 15:52:57 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:52:57] "GET /api/admin/users HTTP/1.1" 200 -
2025-11-01 15:52:58 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:52:58] "GET /dashboard.html HTTP/1.1" 200 -
2025-11-01 15:52:58 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:52:58] "[36mGET /static/css/dashboard.css HTTP/1.1[0m" 304 -
2025-11-01 15:52:58 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:52:58] "[36mGET /static/css/common.css HTTP/1.1[0m" 304 -
2025-11-01 15:52:58 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:52:58] "GET /api/user HTTP/1.1" 200 -
2025-11-01 15:52:58 - api - INFO - 📋 GET /api/leases - User 2 (Admin) fetching leases
2025-11-01 15:52:58 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:52:58] "GET /api/admin/check HTTP/1.1" 200 -
2025-11-01 15:52:58 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:52:58] "GET /api/user HTTP/1.1" 200 -
2025-11-01 15:52:58 - api - INFO - Found 16 leases for user 2
2025-11-01 15:52:58 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:52:58] "GET /api/leases HTTP/1.1" 200 -
2025-11-01 15:53:02 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:53:02] "GET /approvals.html HTTP/1.1" 200 -
2025-11-01 15:53:02 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:53:02] "[36mGET /static/js/api.js HTTP/1.1[0m" 304 -
2025-11-01 15:53:02 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:53:02] "[36mGET /static/css/common.css HTTP/1.1[0m" 304 -
2025-11-01 15:53:02 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:53:02] "GET /api/user HTTP/1.1" 200 -
2025-11-01 15:53:02 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:53:02] "GET /api/approvals/pending HTTP/1.1" 200 -
2025-11-01 15:53:08 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:53:08] "GET /complete_lease_form.html?id=42 HTTP/1.1" 200 -
2025-11-01 15:53:08 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:53:08] "[36mGET /static/css/common.css HTTP/1.1[0m" 304 -
2025-11-01 15:53:08 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:53:08] "GET /api/user HTTP/1.1" 200 -
2025-11-01 15:53:08 - api - INFO - 🔍 GET /api/leases/42 - User 2 (Admin) fetching lease
2025-11-01 15:53:08 - api - INFO - Lease 42 found
2025-11-01 15:53:08 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:53:08] "GET /api/leases/42 HTTP/1.1" 200 -
2025-11-01 15:53:08 - database - INFO - 🔍 get_lease_documents called:
2025-11-01 15:53:08 - database - INFO -    - lease_id: 42
2025-11-01 15:53:08 - database - INFO -    - user_id: 2
2025-11-01 15:53:08 - database - INFO -    - check_ownership: False
2025-11-01 15:53:08 - database - INFO -    - Query: SELECT * FROM lease_documents WHERE lease_id = 42 (no user check)
2025-11-01 15:53:08 - database - INFO -    - Raw rows fetched: 1
2025-11-01 15:53:08 - database - INFO -    - Row types: ['Row']
2025-11-01 15:53:08 - database - INFO -    - Found 1 documents after conversion
2025-11-01 15:53:08 - database - INFO -    - First document: doc_id=12, filename=a325be5a-571e-4b72-a1cc-dfc637202a59.pdf, file_type=application/pdf
2025-11-01 15:53:08 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:53:08] "GET /api/documents/42 HTTP/1.1" 200 -
2025-11-01 15:53:19 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:53:19] "GET /review.html?lease_id=42 HTTP/1.1" 200 -
2025-11-01 15:53:19 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:53:19] "[36mGET /static/css/common.css HTTP/1.1[0m" 304 -
2025-11-01 15:53:19 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:53:19] "[36mGET /static/js/api.js HTTP/1.1[0m" 304 -
2025-11-01 15:53:19 - review_backend - INFO - 📋 Review Metadata Debug for lease_id=42:
2025-11-01 15:53:19 - review_backend - INFO -    - user_id: 2
2025-11-01 15:53:19 - review_backend - INFO -    - user: {'user_id': 2, 'username': 'Rohit', 'email': 'rjrohitjangid0401@gmail.com', 'role': 'admin', 'is_active': 1, 'created_at': '2025-10-29 05:15:06'}
2025-11-01 15:53:19 - review_backend - INFO -    - is_admin: True
2025-11-01 15:53:19 - review_backend - INFO -    - is_reviewer: False
2025-11-01 15:53:19 - review_backend - INFO -    - Admin/Reviewer: Fetching documents without ownership check...
2025-11-01 15:53:19 - database - INFO - 🔍 get_lease_documents called:
2025-11-01 15:53:19 - database - INFO -    - lease_id: 42
2025-11-01 15:53:19 - database - INFO -    - user_id: 2
2025-11-01 15:53:19 - database - INFO -    - check_ownership: False
2025-11-01 15:53:19 - database - INFO -    - Query: SELECT * FROM lease_documents WHERE lease_id = 42 (no user check)
2025-11-01 15:53:19 - database - INFO -    - Raw rows fetched: 1
2025-11-01 15:53:19 - database - INFO -    - Row types: ['Row']
2025-11-01 15:53:19 - database - INFO -    - Found 1 documents after conversion
2025-11-01 15:53:19 - database - INFO -    - First document: doc_id=12, filename=a325be5a-571e-4b72-a1cc-dfc637202a59.pdf, file_type=application/pdf
2025-11-01 15:53:19 - review_backend - INFO -    - Total documents found: 1
2025-11-01 15:53:19 - review_backend - INFO -    - Document 1: doc_id=12, filename=a325be5a-571e-4b72-a1cc-dfc637202a59.pdf, file_type=application/pdf, lease_id=42, user_id=3
2025-11-01 15:53:19 - review_backend - INFO -    - ✅ Included PDF doc: doc_id=12, filename=a325be5a-571e-4b72-a1cc-dfc637202a59.pdf, file_type=application/pdf, file_path=uploaded_documents/a325be5a-571e-4b72-a1cc-dfc637202a59.pdf
2025-11-01 15:53:19 - review_backend - INFO -    - PDF documents found: 1 (from 1 total documents)
2025-11-01 15:53:19 - review_backend - INFO -    - App root: /Users/rohitjangid/Downloads/Lease/lease_application
2025-11-01 15:53:19 - review_backend - INFO -    - Uploaded docs dir: /Users/rohitjangid/Downloads/Lease/lease_application/uploaded_documents
2025-11-01 15:53:19 - review_backend - INFO -    - Uploaded docs dir exists: True
2025-11-01 15:53:19 - review_backend - INFO -    - Current working directory: /Users/rohitjangid/Downloads/Lease/lease_application
2025-11-01 15:53:19 - review_backend - INFO -    - PDF 1: doc_id=12, filename=a325be5a-571e-4b72-a1cc-dfc637202a59.pdf, file_path=uploaded_documents/a325be5a-571e-4b72-a1cc-dfc637202a59.pdf
2025-11-01 15:53:19 - review_backend - INFO -    - PDF file exists: True, existing_path: uploaded_documents/a325be5a-571e-4b72-a1cc-dfc637202a59.pdf
2025-11-01 15:53:19 - review_backend - INFO -    - Checked paths: ['uploaded_documents/a325be5a-571e-4b72-a1cc-dfc637202a59.pdf', 'lease_application/uploaded_documents/a325be5a-571e-4b72-a1cc-dfc637202a59.pdf', '/Users/rohitjangid/Downloads/Lease/lease_application/uploaded_documents/a325be5a-571e-4b72-a1cc-dfc637202a59.pdf', '/Users/rohitjangid/Downloads/Lease/lease_application/lease_application/uploaded_documents/a325be5a-571e-4b72-a1cc-dfc637202a59.pdf']
2025-11-01 15:53:19 - review_backend - INFO -    - ✅ Updated file_path to: uploaded_documents/a325be5a-571e-4b72-a1cc-dfc637202a59.pdf
2025-11-01 15:53:19 - review_backend - INFO -    - Checking for highlighted PDF at: ['uploaded_documents/highlighted_lease_42.pdf', 'lease_application/uploaded_documents/highlighted_lease_42.pdf', '/Users/rohitjangid/Downloads/Lease/lease_application/uploaded_documents/highlighted_lease_42.pdf']
2025-11-01 15:53:19 - review_backend - INFO -    - Highlighted PDF not found (checked: ['uploaded_documents/highlighted_lease_42.pdf', 'lease_application/uploaded_documents/highlighted_lease_42.pdf', '/Users/rohitjangid/Downloads/Lease/lease_application/uploaded_documents/highlighted_lease_42.pdf'])
2025-11-01 15:53:19 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:53:19] "GET /api/review/42/metadata HTTP/1.1" 200 -
2025-11-01 15:53:19 - review_backend - INFO - 📄 Found document for admin/reviewer: doc_id=12, file_path=uploaded_documents/a325be5a-571e-4b72-a1cc-dfc637202a59.pdf
2025-11-01 15:53:19 - review_backend - INFO - 📄 Resolving PDF path: doc_id=12, filename=a325be5a-571e-4b72-a1cc-dfc637202a59.pdf, file_path=uploaded_documents/a325be5a-571e-4b72-a1cc-dfc637202a59.pdf
2025-11-01 15:53:19 - review_backend - INFO -    App root: /Users/rohitjangid/Downloads/Lease/lease_application
2025-11-01 15:53:19 - review_backend - INFO -    Uploaded docs dir: /Users/rohitjangid/Downloads/Lease/lease_application/uploaded_documents
2025-11-01 15:53:19 - review_backend - INFO -    Uploaded docs dir exists: True
2025-11-01 15:53:19 - review_backend - INFO -    Checking 4 possible paths: ['uploaded_documents/a325be5a-571e-4b72-a1cc-dfc637202a59.pdf', '/Users/rohitjangid/Downloads/Lease/lease_application/uploaded_documents/a325be5a-571e-4b72-a1cc-dfc637202a59.pdf', 'lease_application/uploaded_documents/a325be5a-571e-4b72-a1cc-dfc637202a59.pdf', '/Users/rohitjangid/Downloads/Lease/lease_application/lease_application/uploaded_documents/a325be5a-571e-4b72-a1cc-dfc637202a59.pdf']...
2025-11-01 15:53:19 - review_backend - INFO - 📄 Serving document: uploaded_documents/a325be5a-571e-4b72-a1cc-dfc637202a59.pdf
2025-11-01 15:53:19 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:53:19] "GET /api/review/42/pdf/12 HTTP/1.1" 200 -
2025-11-01 15:53:20 - review_backend - INFO - 📄 Found document for admin/reviewer: doc_id=12, file_path=uploaded_documents/a325be5a-571e-4b72-a1cc-dfc637202a59.pdf
2025-11-01 15:53:20 - review_backend - INFO - 📄 Resolving PDF path: doc_id=12, filename=a325be5a-571e-4b72-a1cc-dfc637202a59.pdf, file_path=uploaded_documents/a325be5a-571e-4b72-a1cc-dfc637202a59.pdf
2025-11-01 15:53:20 - review_backend - INFO -    App root: /Users/rohitjangid/Downloads/Lease/lease_application
2025-11-01 15:53:20 - review_backend - INFO -    Uploaded docs dir: /Users/rohitjangid/Downloads/Lease/lease_application/uploaded_documents
2025-11-01 15:53:20 - review_backend - INFO -    Uploaded docs dir exists: True
2025-11-01 15:53:20 - review_backend - INFO -    Checking 4 possible paths: ['uploaded_documents/a325be5a-571e-4b72-a1cc-dfc637202a59.pdf', '/Users/rohitjangid/Downloads/Lease/lease_application/uploaded_documents/a325be5a-571e-4b72-a1cc-dfc637202a59.pdf', 'lease_application/uploaded_documents/a325be5a-571e-4b72-a1cc-dfc637202a59.pdf', '/Users/rohitjangid/Downloads/Lease/lease_application/lease_application/uploaded_documents/a325be5a-571e-4b72-a1cc-dfc637202a59.pdf']...
2025-11-01 15:53:20 - review_backend - INFO - 📄 Serving document: uploaded_documents/a325be5a-571e-4b72-a1cc-dfc637202a59.pdf
2025-11-01 15:53:20 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:53:20] "GET /api/review/42/pdf/12 HTTP/1.1" 200 -
2025-11-01 15:54:35 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:54:35] "GET /dashboard.html HTTP/1.1" 200 -
2025-11-01 15:54:35 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:54:35] "[36mGET /static/css/common.css HTTP/1.1[0m" 304 -
2025-11-01 15:54:35 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:54:35] "[36mGET /static/css/dashboard.css HTTP/1.1[0m" 304 -
2025-11-01 15:54:35 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:54:35] "GET /api/user HTTP/1.1" 200 -
2025-11-01 15:54:35 - api - INFO - 📋 GET /api/leases - User 2 (Admin) fetching leases
2025-11-01 15:54:35 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:54:35] "GET /api/admin/check HTTP/1.1" 200 -
2025-11-01 15:54:35 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:54:35] "GET /api/user HTTP/1.1" 200 -
2025-11-01 15:54:35 - api - INFO - Found 16 leases for user 2
2025-11-01 15:54:35 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:54:35] "GET /api/leases HTTP/1.1" 200 -
2025-11-01 15:54:37 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:54:37] "GET /calculate.html HTTP/1.1" 200 -
2025-11-01 15:54:37 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:54:37] "[36mGET /static/css/common.css HTTP/1.1[0m" 304 -
2025-11-01 15:54:37 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:54:37] "GET /api/user HTTP/1.1" 200 -
2025-11-01 15:54:37 - api - INFO - 📋 GET /api/leases - User 2 (Admin) fetching leases
2025-11-01 15:54:37 - api - INFO - Found 16 leases for user 2
2025-11-01 15:54:37 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:54:37] "GET /api/leases HTTP/1.1" 200 -
2025-11-01 15:54:39 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:54:39] "GET /bulk_results.html HTTP/1.1" 200 -
2025-11-01 15:54:39 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:54:39] "[36mGET /static/css/common.css HTTP/1.1[0m" 304 -
2025-11-01 15:54:39 - api - INFO - 📋 GET /api/leases - User 2 (Admin) fetching leases
2025-11-01 15:54:39 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:54:39] "GET /api/user HTTP/1.1" 200 -
2025-11-01 15:54:39 - api - INFO - Found 16 leases for user 2
2025-11-01 15:54:39 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:54:39] "GET /api/leases HTTP/1.1" 200 -
2025-11-01 15:54:41 - complete_lease_backend - INFO - 📥 Received bulk calculation request from user 2
2025-11-01 15:54:41 - complete_lease_backend - INFO -    Processing 4 leases from 2024-12-31 to 2025-12-30
2025-11-01 15:54:41 - complete_lease_backend - INFO -    Loaded 4 leases
2025-11-01 15:54:41 - lease_accounting.core.results_processor - INFO - 🔄 Starting bulk processing: 4 leases
2025-11-01 15:54:41 - lease_accounting.core.processor - INFO - 📊 Projections calculated: 1 periods for lease 19
2025-11-01 15:54:41 - lease_accounting.core.processor - INFO -    First projection: 2026-02-28, Last: 2026-02-28
2025-11-01 15:54:41 - lease_accounting.core.results_processor - INFO - ✅ Processed lease 19: Warehouse and Land Lease Agreement for Truck Terminal Facility and Parking
2025-11-01 15:54:41 - lease_accounting.core.results_processor - INFO - ✅ Bulk processing complete: 1 processed, 3 skipped
2025-11-01 15:54:41 - complete_lease_backend - INFO - ✅ Bulk processing complete: 1 processed, 3 skipped
2025-11-01 15:54:41 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:54:41] "POST /api/calculate_leases HTTP/1.1" 200 -
2025-11-01 15:54:55 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:54:55] "GET /dashboard.html HTTP/1.1" 200 -
2025-11-01 15:54:55 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:54:55] "[36mGET /static/css/common.css HTTP/1.1[0m" 304 -
2025-11-01 15:54:55 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:54:55] "[36mGET /static/css/dashboard.css HTTP/1.1[0m" 304 -
2025-11-01 15:54:55 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:54:55] "GET /api/user HTTP/1.1" 200 -
2025-11-01 15:54:55 - api - INFO - 📋 GET /api/leases - User 2 (Admin) fetching leases
2025-11-01 15:54:55 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:54:55] "GET /api/admin/check HTTP/1.1" 200 -
2025-11-01 15:54:55 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:54:55] "GET /api/user HTTP/1.1" 200 -
2025-11-01 15:54:55 - api - INFO - Found 16 leases for user 2
2025-11-01 15:54:55 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:54:55] "GET /api/leases HTTP/1.1" 200 -
2025-11-01 15:54:57 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:54:57] "GET /calculate.html HTTP/1.1" 200 -
2025-11-01 15:54:57 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:54:57] "[36mGET /static/css/common.css HTTP/1.1[0m" 304 -
2025-11-01 15:54:57 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:54:57] "GET /api/user HTTP/1.1" 200 -
2025-11-01 15:54:57 - api - INFO - 📋 GET /api/leases - User 2 (Admin) fetching leases
2025-11-01 15:54:57 - api - INFO - Found 16 leases for user 2
2025-11-01 15:54:57 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:54:57] "GET /api/leases HTTP/1.1" 200 -
2025-11-01 15:55:07 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:55:07] "GET /dashboard.html HTTP/1.1" 200 -
2025-11-01 15:55:07 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:55:07] "[36mGET /static/css/common.css HTTP/1.1[0m" 304 -
2025-11-01 15:55:07 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:55:07] "[36mGET /static/css/dashboard.css HTTP/1.1[0m" 304 -
2025-11-01 15:55:07 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:55:07] "GET /api/user HTTP/1.1" 200 -
2025-11-01 15:55:07 - api - INFO - 📋 GET /api/leases - User 2 (Admin) fetching leases
2025-11-01 15:55:07 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:55:07] "GET /api/admin/check HTTP/1.1" 200 -
2025-11-01 15:55:07 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:55:07] "GET /api/user HTTP/1.1" 200 -
2025-11-01 15:55:07 - api - INFO - Found 16 leases for user 2
2025-11-01 15:55:07 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:55:07] "GET /api/leases HTTP/1.1" 200 -
2025-11-01 15:55:20 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:55:20] "GET /calculate.html?lease_id=20 HTTP/1.1" 200 -
2025-11-01 15:55:20 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:55:20] "[36mGET /static/css/common.css HTTP/1.1[0m" 304 -
2025-11-01 15:55:20 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:55:20] "GET /api/user HTTP/1.1" 200 -
2025-11-01 15:55:20 - api - INFO - 📋 GET /api/leases - User 2 (Admin) fetching leases
2025-11-01 15:55:20 - api - INFO - Found 16 leases for user 2
2025-11-01 15:55:20 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:55:20] "GET /api/leases HTTP/1.1" 200 -
2025-11-01 15:55:27 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:55:27] "GET /dashboard.html HTTP/1.1" 200 -
2025-11-01 15:55:27 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:55:27] "[36mGET /static/css/common.css HTTP/1.1[0m" 304 -
2025-11-01 15:55:27 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:55:27] "[36mGET /static/css/dashboard.css HTTP/1.1[0m" 304 -
2025-11-01 15:55:27 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:55:27] "GET /api/user HTTP/1.1" 200 -
2025-11-01 15:55:27 - api - INFO - 📋 GET /api/leases - User 2 (Admin) fetching leases
2025-11-01 15:55:27 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:55:27] "GET /api/admin/check HTTP/1.1" 200 -
2025-11-01 15:55:27 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:55:27] "GET /api/user HTTP/1.1" 200 -
2025-11-01 15:55:27 - api - INFO - Found 16 leases for user 2
2025-11-01 15:55:27 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:55:27] "GET /api/leases HTTP/1.1" 200 -
2025-11-01 15:55:38 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:55:38] "GET /complete_lease_form.html HTTP/1.1" 200 -
2025-11-01 15:55:38 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:55:38] "[36mGET /static/css/common.css HTTP/1.1[0m" 304 -
2025-11-01 15:55:38 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:55:38] "GET /api/user HTTP/1.1" 200 -
2025-11-01 15:55:49 - pdf_upload_backend - INFO - 📄 Extracting text from PDF: LAND_LEASE_AGREEMENT.pdf
2025-11-01 15:55:50 - pdfminer.pdffont - WARNING - Could get FontBBox from font descriptor because None cannot be parsed as 4 floats
2025-11-01 15:55:51 - pdf_upload_backend - INFO - 📄 Text extraction result: status_msg=Text extracted successfully from text-based PDF, text_length=105545
2025-11-01 15:55:51 - pdf_upload_backend - INFO - ✅ Extracted 105545 characters from PDF
2025-11-01 15:55:51 - pdf_upload_backend - INFO - 🤖 Extracting lease information using AI...
2025-11-01 15:55:51 - pdf_upload_backend - INFO -    - Using text-based extraction (reliable method)
2025-11-01 15:56:17 - pdf_upload_backend - INFO - ✅ Text extraction successful: 30 fields extracted
2025-11-01 15:56:17 - pdf_upload_backend - INFO -    - Attempting PDF extraction for bounding boxes (optional enhancement)
2025-11-01 15:57:19 - pdf_upload_backend - INFO - 🤖 AI extraction completed
2025-11-01 15:57:19 - pdf_upload_backend - INFO - ✅ AI extraction successful: 30 fields extracted
2025-11-01 15:57:19 - pdf_upload_backend - INFO - 📋 PDF Upload Debug:
2025-11-01 15:57:19 - pdf_upload_backend - INFO -    - lease_id from form: None
2025-11-01 15:57:19 - pdf_upload_backend - INFO -    - user_id from session: 2
2025-11-01 15:57:19 - pdf_upload_backend - INFO -    - filename: LAND_LEASE_AGREEMENT.pdf
2025-11-01 15:57:19 - pdf_upload_backend - INFO -    - No lease_id yet, saving PDF temporarily...
2025-11-01 15:57:19 - pdf_upload_backend - INFO - 📄 _save_pending_pdf called:
2025-11-01 15:57:19 - pdf_upload_backend - INFO -    - user_id: 2
2025-11-01 15:57:19 - pdf_upload_backend - INFO -    - temp_path: /var/folders/6g/mcsdtgy50zn6jdm3p0rdhsd40000gn/T/upload_LAND_LEASE_AGREEMENT.pdf
2025-11-01 15:57:19 - pdf_upload_backend - INFO -    - temp_path exists: True
2025-11-01 15:57:19 - pdf_upload_backend - INFO -    - original_filename: LAND_LEASE_AGREEMENT.pdf
2025-11-01 15:57:19 - pdf_upload_backend - INFO -    - pending_filename: 772f7be1-754c-4615-9a8a-c5543429b073.pdf
2025-11-01 15:57:19 - pdf_upload_backend - INFO -    - pending_path: pending_pdfs/772f7be1-754c-4615-9a8a-c5543429b073.pdf
2025-11-01 15:57:19 - pdf_upload_backend - INFO -    - Copying file from /var/folders/6g/mcsdtgy50zn6jdm3p0rdhsd40000gn/T/upload_LAND_LEASE_AGREEMENT.pdf to pending_pdfs/772f7be1-754c-4615-9a8a-c5543429b073.pdf...
2025-11-01 15:57:19 - pdf_upload_backend - INFO -    - ✅ File copied successfully
2025-11-01 15:57:19 - pdf_upload_backend - INFO - ✅ Pending PDF saved successfully:
2025-11-01 15:57:19 - pdf_upload_backend - INFO -    - pending_pdf_id: 772f7be1-754c-4615-9a8a-c5543429b073
2025-11-01 15:57:19 - pdf_upload_backend - INFO -    - original_filename: LAND_LEASE_AGREEMENT.pdf
2025-11-01 15:57:19 - pdf_upload_backend - INFO -    - pending_path: pending_pdfs/772f7be1-754c-4615-9a8a-c5543429b073.pdf
2025-11-01 15:57:19 - pdf_upload_backend - INFO - ✅ PDF saved temporarily with pending_id: 772f7be1-754c-4615-9a8a-c5543429b073
2025-11-01 15:57:19 - pdf_upload_backend - INFO - ✅ PDF extraction complete - PDF saved temporarily with pending_id: 772f7be1-754c-4615-9a8a-c5543429b073
2025-11-01 15:57:19 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 15:57:19] "POST /api/extract_lease_pdf HTTP/1.1" 200 -
2025-11-01 16:12:32 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 16:12:32] "GET /dashboard.html HTTP/1.1" 200 -
2025-11-01 16:12:32 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 16:12:32] "[36mGET /static/css/common.css HTTP/1.1[0m" 304 -
2025-11-01 16:12:32 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 16:12:32] "[36mGET /static/css/dashboard.css HTTP/1.1[0m" 304 -
2025-11-01 16:12:32 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 16:12:32] "GET /api/user HTTP/1.1" 200 -
2025-11-01 16:12:32 - api - INFO - 📋 GET /api/leases - User 2 (Admin) fetching leases
2025-11-01 16:12:32 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 16:12:32] "GET /api/admin/check HTTP/1.1" 200 -
2025-11-01 16:12:32 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 16:12:32] "GET /api/user HTTP/1.1" 200 -
2025-11-01 16:12:32 - api - INFO - Found 16 leases for user 2
2025-11-01 16:12:32 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 16:12:32] "GET /api/leases HTTP/1.1" 200 -
2025-11-01 16:12:38 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 16:12:38] "GET /calculate.html?lease_id=43 HTTP/1.1" 200 -
2025-11-01 16:12:38 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 16:12:38] "[36mGET /static/css/common.css HTTP/1.1[0m" 304 -
2025-11-01 16:12:38 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 16:12:38] "GET /api/user HTTP/1.1" 200 -
2025-11-01 16:12:38 - api - INFO - 📋 GET /api/leases - User 2 (Admin) fetching leases
2025-11-01 16:12:38 - api - INFO - Found 16 leases for user 2
2025-11-01 16:12:38 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 16:12:38] "GET /api/leases HTTP/1.1" 200 -
2025-11-01 16:12:40 - api - INFO - 🔍 GET /api/leases/43 - User 2 (Admin) fetching lease
2025-11-01 16:12:40 - api - INFO - Lease 43 found
2025-11-01 16:12:40 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 16:12:40] "GET /api/leases/43 HTTP/1.1" 200 -
2025-11-01 16:12:40 - complete_lease_backend - INFO - 📥 Received calculation request:
2025-11-01 16:12:40 - complete_lease_backend - INFO -    rental_1: 15300
2025-11-01 16:12:40 - complete_lease_backend - INFO -    lease_start: 2002-03-01, end: 2017-02-28
2025-11-01 16:12:40 - complete_lease_backend - INFO -    from_date: 2002-03-01, to_date: 2017-02-28
2025-11-01 16:12:40 - complete_lease_backend - INFO - 📅 Generating payment schedule...
2025-11-01 16:12:40 - complete_lease_backend - INFO - ✅ Generated 361 schedule rows
2025-11-01 16:12:40 - complete_lease_backend - INFO - 🔄 Processing lease...
2025-11-01 16:12:40 - lease_accounting.core.processor - INFO - 📊 Projections calculated: 0 periods for lease 43
2025-11-01 16:12:40 - complete_lease_backend - INFO - ✅ Lease processed: Opening Liability=1,550,228.60, Closing=55,769.47
2025-11-01 16:12:40 - complete_lease_backend - INFO - 📝 Generating journal entries...
2025-11-01 16:12:40 - complete_lease_backend - INFO - ✅ Calculation complete
2025-11-01 16:12:40 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 16:12:40] "POST /api/calculate_lease HTTP/1.1" 200 -
2025-11-01 16:12:47 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 16:12:47] "GET /bulk_results.html HTTP/1.1" 200 -
2025-11-01 16:12:47 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 16:12:47] "[36mGET /static/css/common.css HTTP/1.1[0m" 304 -
2025-11-01 16:12:47 - api - INFO - 📋 GET /api/leases - User 2 (Admin) fetching leases
2025-11-01 16:12:47 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 16:12:47] "GET /api/user HTTP/1.1" 200 -
2025-11-01 16:12:47 - api - INFO - Found 16 leases for user 2
2025-11-01 16:12:47 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 16:12:47] "GET /api/leases HTTP/1.1" 200 -
2025-11-01 16:13:09 - complete_lease_backend - INFO - 📥 Received bulk calculation request from user 2
2025-11-01 16:13:09 - complete_lease_backend - INFO -    Processing 4 leases from 2024-04-01 to 2025-03-31
2025-11-01 16:13:09 - complete_lease_backend - INFO -    Loaded 4 leases
2025-11-01 16:13:09 - lease_accounting.core.results_processor - INFO - 🔄 Starting bulk processing: 4 leases
2025-11-01 16:13:09 - lease_accounting.core.processor - INFO - 📊 Projections calculated: 2 periods for lease 19
2025-11-01 16:13:09 - lease_accounting.core.processor - INFO -    First projection: 2025-06-30, Last: 2025-12-31
2025-11-01 16:13:09 - lease_accounting.core.results_processor - INFO - ✅ Processed lease 19: Warehouse and Land Lease Agreement for Truck Terminal Facility and Parking
2025-11-01 16:13:09 - lease_accounting.core.results_processor - INFO - ✅ Bulk processing complete: 1 processed, 3 skipped
2025-11-01 16:13:09 - complete_lease_backend - INFO - ✅ Bulk processing complete: 1 processed, 3 skipped
2025-11-01 16:13:09 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 16:13:09] "POST /api/calculate_leases HTTP/1.1" 200 -
2025-11-01 16:13:39 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 16:13:39] "GET /calculate.html HTTP/1.1" 200 -
2025-11-01 16:13:39 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 16:13:39] "[36mGET /static/css/common.css HTTP/1.1[0m" 304 -
2025-11-01 16:13:39 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 16:13:39] "GET /api/user HTTP/1.1" 200 -
2025-11-01 16:13:39 - api - INFO - 📋 GET /api/leases - User 2 (Admin) fetching leases
2025-11-01 16:13:39 - api - INFO - Found 16 leases for user 2
2025-11-01 16:13:39 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 16:13:39] "GET /api/leases HTTP/1.1" 200 -
2025-11-01 16:13:47 - api - INFO - 🔍 GET /api/leases/40 - User 2 (Admin) fetching lease
2025-11-01 16:13:47 - api - INFO - Lease 40 found
2025-11-01 16:13:47 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 16:13:47] "GET /api/leases/40 HTTP/1.1" 200 -
2025-11-01 16:13:47 - complete_lease_backend - INFO - 📥 Received calculation request:
2025-11-01 16:13:47 - complete_lease_backend - INFO -    rental_1: 150000
2025-11-01 16:13:47 - complete_lease_backend - INFO -    lease_start: 2024-01-01, end: 2029-12-31
2025-11-01 16:13:47 - complete_lease_backend - INFO -    from_date: 2024-01-01, to_date: 2029-12-31
2025-11-01 16:13:47 - complete_lease_backend - INFO - 📅 Generating payment schedule...
2025-11-01 16:13:47 - complete_lease_backend - INFO - ✅ Generated 76 schedule rows
2025-11-01 16:13:47 - complete_lease_backend - INFO - 🔄 Processing lease...
2025-11-01 16:13:47 - lease_accounting.core.processor - INFO - 📊 Projections calculated: 0 periods for lease 40
2025-11-01 16:13:47 - complete_lease_backend - INFO - ✅ Lease processed: Opening Liability=720,302.03, Closing=0.00
2025-11-01 16:13:47 - complete_lease_backend - INFO - 📝 Generating journal entries...
2025-11-01 16:13:47 - complete_lease_backend - INFO - ✅ Calculation complete
2025-11-01 16:13:47 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 16:13:47] "POST /api/calculate_lease HTTP/1.1" 200 -
2025-11-01 16:14:06 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 16:14:06] "GET /dashboard.html HTTP/1.1" 200 -
2025-11-01 16:14:06 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 16:14:06] "[36mGET /static/css/common.css HTTP/1.1[0m" 304 -
2025-11-01 16:14:06 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 16:14:06] "[36mGET /static/css/dashboard.css HTTP/1.1[0m" 304 -
2025-11-01 16:14:06 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 16:14:06] "GET /api/user HTTP/1.1" 200 -
2025-11-01 16:14:06 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 16:14:06] "GET /api/admin/check HTTP/1.1" 200 -
2025-11-01 16:14:06 - api - INFO - 📋 GET /api/leases - User 2 (Admin) fetching leases
2025-11-01 16:14:06 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 16:14:06] "GET /api/user HTTP/1.1" 200 -
2025-11-01 16:14:06 - api - INFO - Found 16 leases for user 2
2025-11-01 16:14:06 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 16:14:06] "GET /api/leases HTTP/1.1" 200 -
2025-11-01 16:14:09 - api - INFO - 📋 GET /api/leases - User 2 (Admin) fetching leases
2025-11-01 16:14:09 - api - INFO - Found 16 leases for user 2
2025-11-01 16:14:09 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 16:14:09] "GET /api/leases HTTP/1.1" 200 -
2:47] "GET /api/user HTTP/1.1" 200 -
2025-11-01 16:12:47 - api - INFO - Found 16 leases for user 2
2025-11-01 16:12:47 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 16:12:47] "GET /api/leases HTTP/1.1" 200 -
2025-11-01 16:13:09 - complete_lease_backend - INFO - 📥 Received bulk calculation request from user 2
2025-11-01 16:13:09 - complete_lease_backend - INFO -    Processing 4 leases from 2024-04-01 to 2025-03-31
2025-11-01 16:13:09 - complete_lease_backend - INFO -    Loaded 4 leases
2025-11-01 16:13:09 - lease_accounting.core.results_processor - INFO - 🔄 Starting bulk processing: 4 leases
2025-11-01 16:13:09 - lease_accounting.core.results_processor - DEBUG - ⏭️  Skipping lease 37: Failed filters
2025-11-01 16:13:09 - lease_accounting.core.results_processor - DEBUG - ⏭️  Skipping lease 20: Failed filters
2025-11-01 16:13:09 - lease_accounting.core.processor - INFO - 📊 Projections calculated: 2 periods for lease 19
2025-11-01 16:13:09 - lease_accounting.core.processor - INFO -    First projection: 2025-06-30, Last: 2025-12-31
2025-11-01 16:13:09 - lease_accounting.core.results_processor - INFO - ✅ Processed lease 19: Warehouse and Land Lease Agreement for Truck Terminal Facility and Parking
2025-11-01 16:13:09 - lease_accounting.core.results_processor - DEBUG - ⏭️  Skipping lease 18: Failed filters
2025-11-01 16:13:09 - lease_accounting.core.results_processor - INFO - ✅ Bulk processing complete: 1 processed, 3 skipped
2025-11-01 16:13:09 - complete_lease_backend - INFO - ✅ Bulk processing complete: 1 processed, 3 skipped
2025-11-01 16:13:09 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 16:13:09] "POST /api/calculate_leases HTTP/1.1" 200 -
2025-11-01 16:13:39 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 16:13:39] "GET /calculate.html HTTP/1.1" 200 -
2025-11-01 16:13:39 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 16:13:39] "[36mGET /static/css/common.css HTTP/1.1[0m" 304 -
2025-11-01 16:13:39 - auth - DEBUG - 👤 GET /api/user - Checking user session
2025-11-01 16:13:39 - auth - DEBUG - User Rohit session valid
2025-11-01 16:13:39 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 16:13:39] "GET /api/user HTTP/1.1" 200 -
2025-11-01 16:13:39 - api - INFO - 📋 GET /api/leases - User 2 (Admin) fetching leases
2025-11-01 16:13:39 - api - INFO - Found 16 leases for user 2
2025-11-01 16:13:39 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 16:13:39] "GET /api/leases HTTP/1.1" 200 -
2025-11-01 16:13:47 - api - INFO - 🔍 GET /api/leases/40 - User 2 (Admin) fetching lease
2025-11-01 16:13:47 - api - INFO - Lease 40 found
2025-11-01 16:13:47 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 16:13:47] "GET /api/leases/40 HTTP/1.1" 200 -
2025-11-01 16:13:47 - complete_lease_backend - INFO - 📥 Received calculation request:
2025-11-01 16:13:47 - complete_lease_backend - INFO -    rental_1: 150000
2025-11-01 16:13:47 - complete_lease_backend - INFO -    lease_start: 2024-01-01, end: 2029-12-31
2025-11-01 16:13:47 - complete_lease_backend - INFO -    from_date: 2024-01-01, to_date: 2029-12-31
2025-11-01 16:13:47 - complete_lease_backend - INFO - 📅 Generating payment schedule...
2025-11-01 16:13:47 - complete_lease_backend - INFO - ✅ Generated 76 schedule rows
2025-11-01 16:13:47 - complete_lease_backend - INFO - 🔄 Processing lease...
2025-11-01 16:13:47 - lease_accounting.core.processor - INFO - 📊 Projections calculated: 0 periods for lease 40
2025-11-01 16:13:47 - complete_lease_backend - INFO - ✅ Lease processed: Opening Liability=720,302.03, Closing=0.00
2025-11-01 16:13:47 - complete_lease_backend - INFO - 📝 Generating journal entries...
2025-11-01 16:13:47 - complete_lease_backend - INFO - ✅ Calculation complete
2025-11-01 16:13:47 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 16:13:47] "POST /api/calculate_lease HTTP/1.1" 200 -
2025-11-01 16:14:06 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 16:14:06] "GET /dashboard.html HTTP/1.1" 200 -
2025-11-01 16:14:06 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 16:14:06] "[36mGET /static/css/common.css HTTP/1.1[0m" 304 -
2025-11-01 16:14:06 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 16:14:06] "[36mGET /static/css/dashboard.css HTTP/1.1[0m" 304 -
2025-11-01 16:14:06 - auth - DEBUG - 👤 GET /api/user - Checking user session
2025-11-01 16:14:06 - auth - DEBUG - User Rohit session valid
2025-11-01 16:14:06 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 16:14:06] "GET /api/user HTTP/1.1" 200 -
2025-11-01 16:14:06 - auth - DEBUG - 👤 GET /api/user - Checking user session
2025-11-01 16:14:06 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 16:14:06] "GET /api/admin/check HTTP/1.1" 200 -
2025-11-01 16:14:06 - api - INFO - 📋 GET /api/leases - User 2 (Admin) fetching leases
2025-11-01 16:14:06 - auth - DEBUG - User Rohit session valid
2025-11-01 16:14:06 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 16:14:06] "GET /api/user HTTP/1.1" 200 -
2025-11-01 16:14:06 - api - INFO - Found 16 leases for user 2
2025-11-01 16:14:06 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 16:14:06] "GET /api/leases HTTP/1.1" 200 -
2025-11-01 16:14:09 - api - INFO - 📋 GET /api/leases - User 2 (Admin) fetching leases
2025-11-01 16:14:09 - api - INFO - Found 16 leases for user 2
2025-11-01 16:14:09 - werkzeug - INFO - 127.0.0.1 - - [01/Nov/2025 16:14:09] "GET /api/leases HTTP/1.1" 200 -
